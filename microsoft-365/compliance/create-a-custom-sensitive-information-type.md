---
title: カスタムの機密情報の種類を作成する
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
ms.date: ''
ms.localizationpriority: medium
ms.collection:
- M365-security-compliance
search.appverid:
- MOE150
- MET150
description: コンプライアンス センターでカスタムの機密情報の種類を作成、変更、削除、テストする方法について説明します。
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 0d93259cfe76419e253c450c4cd5ed7f03f3b85c
ms.sourcegitcommit: 6a981ca15bac84adbbed67341c89235029aad476
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/27/2022
ms.locfileid: "65753520"
---
# <a name="create-custom-sensitive-information-types-in-the-compliance-center"></a>コンプライアンス センターでカスタムの機密情報の種類を作成する

[!include[Purview banner](../includes/purview-rebrand-banner.md)]

事前構成の機密情報の種類がニーズを満たしていない場合は、完全に定義した独自のカスタムの機密情報の種類を作成するか、事前構成のいずれかをコピーして変更できます。

この方法を使用して作成されるカスタムの機密情報の種類は、`Microsoft.SCCManaged.CustomRulePack`という名前のルール パッケージに追加されます。

新しい機密情報の種類を作成するには、次の 2 つの方法があります。

- [すべての要素を完全に定義するところから](#create-a-custom-sensitive-information-type)
- [既存の機密情報の種類をコピーおよび変更する](#copy-and-modify-a-sensitive-information-type)


## <a name="before-you-begin"></a>開始する前に

- 機密情報の種類とその構成に精通している必要があります。 「[機密情報の種類に関する詳細情報](sensitive-information-type-learn-about.md)」を参照してください。 次の役割を理解することが重要です。
  - [正規表現](https://www.boost.org/doc/libs/1_68_0/libs/regex/doc/html/) - Microsoft 365 の機密情報の種類は Boost.RegEx 5.1.3 エンジンを使用する
  - キーワード リスト - 機密情報の種類を定義する際に独自のキーワードを作成することも、既存のキーワード リストから選択することもできます。
  - [キーワード辞書](create-a-keyword-dictionary.md)
  - [機密情報の種類の機能](sit-functions.md)
  - [信頼度レベル](sensitive-information-type-learn-about.md#more-on-confidence-levels)

- 組織には、Microsoft Purview データ損失防止 (DLP) を含むサブスクリプション (Office 365 Enterpriseなど) が必要です。 [メッセージング ポリシーとコンプライアンス サービスの説明](/office365/servicedescriptions/exchange-online-protection-service-description/messaging-policy-and-compliance-servicedesc)を参照してください。 

- 組織には、データ損失防止 (DLP) を含むサブスクリプション (Office 365 Enterpriseなど) が必要です。 [メッセージング ポリシーとコンプライアンス サービスの説明](/office365/servicedescriptions/exchange-online-protection-service-description/messaging-policy-and-compliance-servicedesc)を参照してください。

> [!IMPORTANT]
> Microsoft カスタマー サービス/サポートでは、カスタム分類または正規表現パターンの作成をサポートしていません。 サポート エンジニアは、たとえば、テスト目的のサンプルの正規表現パターンを提供したり、期待通りにトリガーされない既存の正規表現パターンのトラブルシューティングをサポートしたりなど、機能に対する限定的なサポートを提供しますが、カスタムのコンテンツ一致の開発でユーザーの要件を満たしたり、義務を果たしたりすることを確約するわけではありません。

## <a name="create-a-custom-sensitive-information-type"></a>カスタムの機密情報の種類を作成する

完全に定義した新しい機密情報の種類を作成するには、次の手順を実行します。

1. コンプライアンス センターで、[ **データ分類** \> **の機密情報の種類** ] に移動し、[ **機密情報の種類の作成**] を選択します。

2. **[名前]** および **[説明]** の値を入力し、**[次へ]** を選択します。

3. **[パターンの作成]** を選択します。 新しい機密情報の種類を定義するときに、それぞれ異なる要素と信頼度レベルを持つ複数のパターンを作成できます。

4. パターンの既定の信頼度レベルを選択します。 値は、**[低い信頼度]**、**[中程度の信頼度]**、および **[高い信頼度]** です。

5. **[主要要素]** を選択して定義します。 主要要素は、オプションの検証を使用した **[正規表現]**、**[キーワード リスト]**、**[キーワード辞書]**、または事前構成の **[関数]** のいずれかです。 DLP 関数の詳細については、「 [機密情報の種類の関数](sit-functions.md)」を参照してください。 日付検証ツールとチェックサム 検証ツールの詳細については、「 [機密情報の種類の正規表現の検証ツール](sit-regex-validators-additional-checks.md#sensitive-information-type-regular-expression-validators)」を参照してください。

6. **[文字の近接度]** の値を入力します。

7. (省略可能) サポート要素がある場合は追加します。 サポート要素は、オプションの検証、キーワード リスト、キーワード辞書、または事前定義された関数のいずれかを使用する正規表現です。 サポートする要素には、独自の **文字近接構成を** 設定できます。

8. (省略可能) 使用可能なチェックのリストから [**追加チェック**](sit-regex-validators-additional-checks.md#sensitive-information-type-additional-checks)を追加します。

9. **[作成]** を選択します。

10. **[次へ]** を選択します。

11. この機密情報の種類に対して、**推奨される信頼度レベル** を選択します。

12. 設定を確認し、**[送信]** を選択します。

    > [!IMPORTANT]
    > Microsoft 365 では、検索クローラーを使用して、SharePoint Online および OneDrive for Business のサイトの機密情報を特定して分類します。 既存のコンテンツで新しいカスタムの機密情報の種類を特定するには、そのコンテンツを再クロールする必要があります。 コンテンツは、スケジュールに基づいてクロールされますが、サイト コレクション、リスト、またはライブラリのコンテンツを手動で再クロールすることができます。 詳細については、「[サイト、ライブラリ、またはリストのクロールおよび再インデックスの手動要求](/sharepoint/crawl-site-content)」を参照してください。

13. **[データの分類]** ページに、すべての機密情報の種類が一覧表示されます。 **[更新]** を選択し、閲覧または検索ツールを使用して、作成した機密情報の種類を検索します。

### <a name="copy-and-modify-a-sensitive-information-type"></a>機密情報の種類をコピーおよび変更する

既存の機密情報の種類に基づいて新しい機密情報の種類を作成するには、次の手順を実行します。

> [!NOTE]
> 次の SIT はコピーできません。
>
> - カナダの運転免許証番号
> - EU の運転免許証番号
> - EU の国民識別番号
> - EU パスポート番号
> - EU 社会保障番号または同等の ID
> - EU の税識別番号
> - 病気の国際分類 (ICD-10-CM)
> - 病気の国際分類 (ICD-9-CM)
> - 米国の運転免許証番号

PowerShell および Exact Data Match の機能を使用して、カスタムの機密情報の種類を作成することもできます。 これらの方法の詳細については、次を参照してください。

- [PowerShell でカスタムの機密情報の種類Microsoft Purview作成する](create-a-custom-sensitive-information-type-in-scc-powershell.md)
- [完全なデータ一致に基づく機密情報の種類の詳細](sit-learn-about-exact-data-match-based-sits.md#learn-about-exact-data-match-based-sensitive-information-types)

1. コンプライアンス センターで、**[データの分類]** \> **[機密情報の種類]** の順に移動し、コピーする機密情報の種類を選択します。

2. フライアウトで、**[コピー]** を選択します。

3. 機密情報の種類のリストから **[更新]** を選択し、作成したコピーを参照または検索します。 部分的な文字列の検索が機能するため、`copy` だけを検索すると、名前に `copy` という単語が含まれるすべての機密情報の種類が返されます。

4. **[名前]** および **[説明]** の値を入力し、**[次へ]** を選択します。

5. 機密情報の種類のコピーを選択し、**[編集]** を選択します。

6. 新しい機密情報の種類に新しい **[名前]** および **[説明]** を指定します。

7. 既存のパターンを編集または削除し、新しいパターンを追加できます。 新しいパターンの既定の信頼度レベルを選択します。 値は、**[低い信頼度]**、**[中程度の信頼度]**、および **[高い信頼度]** です。

8. **[主要要素]** を選択して定義します。 主要要素は、**[正規表現]**、**[キーワード リスト]**、**[キーワード辞書]**、または事前構成の **[関数]** のいずれかです。 [機密情報の種類の関数](sit-functions.md)を参照してください。

9. **[文字の近接度]** の値を入力します。

10. (省略可能) **サポート要素** または [**追加のチェック**](sit-regex-validators-additional-checks.md#sensitive-information-type-additional-checks) がある場合は、追加します。 必要に応じて、**[サポート要素]** をグループ化できます。

11. **[作成]** を選択します。

12. **[次へ]** を選択します。

13. この機密情報の種類に対して、**推奨される信頼度レベル** を選択します。

14. 設定を確認し、**[送信]** を選択します。

## <a name="test-a-sensitive-information-type"></a>機密情報の種類をテストする

リスト内の任意の機密情報の種類をテストできます。 ポリシーで使用する前に、作成するすべての機密情報の種類をテストすることを推奨します。

1. Word 文書のように、2 つのファイルを準備します。 機密情報の種類で指定した要素と一致するコンテンツと一致しないコンテンツ。

2. コンプライアンス センターで、**[データの分類]** \> **[機密情報の種類]** の順に移動し、リストから機密情報の種類を選択して詳細ウィンドウを開き、**[テスト]** を選択します。

3. ファイルをアップロードし、**[テスト]** を選択します。

4. **[結果と一致]** ページで、結果を確認して **[完了]** を選択します。

## <a name="custom-sensitive-information-types-limits"></a>カスタムの機密情報の種類の制限

高いパフォーマンスと待機時間を確保するために、カスタム SIT 構成には制限があります。

|極限|値|
|---|---|
|コンプライアンス センターを通じて作成されたカスタム SIT の最大数| 500 |
|正規表現の最大長| 1024 文字|
|キーワード リスト内の特定の用語の最大長| 50 文字|
|キーワード リスト内の用語の最大数| 2048|
|機密情報の種類ごとの個別の正規表現の最大数| 20|
|キーワード ディクショナリの最大サイズ (圧縮後)| 1 MB (~1,000,000 文字)|
|テナント内のキーワード ディクショナリ ベースの SID の最大数|50 |

> [!NOTE]
> ビジネスで 500 を超えるカスタム SIT を作成する必要がある場合は、サポート チケットを発行してください。

### <a name="instance-count-supported-values-for-sit"></a>SIT でサポートされているインスタンス数の値

SIT インスタンス数の制限は、次のソリューションで SIT が使用されている場合に適用されます。

- DLP ポリシー
- 情報保護
- データ ライフサイクル管理
- 通信コンプライアンス
- レコード管理
- Microsoft Defender for Cloud Apps
- Microsoft Priva

スキャンされたアイテムがルールの条件を満たすには、1 つのアイテム内の SIT の一意のインスタンスの数が最小値と最大値の間に収める必要があります。 これは **インスタンス数** と呼ばれます。

- **最小** フィールド: 一致をトリガーするためにアイテム内に存在する必要がある SIT の一意のインスタンスの下限 (最小数)。 min フィールドでは、次の値がサポートされます。
  - 1 ~ 500
- **最大** フィールド: アイテム内に存在し、引き続き一致をトリガーできる SIT の一意のインスタンスの数の上限。 max フィールドでは、次の値がサポートされます。
  - 1 ~ 500 - アイテム内の SIT のインスタンス数に対して 500 以下の特定の上限を設定する場合に使用します。
  - Any - スキャンされた項目に SIT の一意のインスタンスの未定義数が見つかり、その一意のインスタンスの数が一意のインスタンスの最小数の値を満たすか超えた場合に、一意のインスタンス数の条件を満たす場合に使用 `Any` します。 つまり、最小値が満たされていれば、一意のインスタンス数の条件が満たされます。

たとえば、1 つのアイテムに少なくとも 500 個の SIT の一意のインスタンスが見つかったときにルールで一致をトリガーする場合は、**最小値** を [最大値]  に`Any``500`設定します。

> [!NOTE]
> Microsoft 365 Information Protection は、次のような場合に 2 バイト文字セットの言語をサポートします。
>
> - 中国語 (簡体字)
> - 中国語 (繁体字)
> - 韓国語
> - 日本語
>
> このサポートは、機密情報の種類で使用できます。 詳細については、「[2バイト文字セットのリリースノート (preview) についての情報保護サポー](mip-dbcs-relnotes.md)」を参照してください。

> [!TIP]
> 中国語/日本語の文字と 1 バイト文字を含むパターンを検出する、または中国語/日本語と英語を含むパターンを検出するには、キーワードまたは正規表現の 2 つのバリエーションを定義します。
>
> - たとえば、「机密的ドキュメント」のようなキーワードを検出するには、キーワードの 2 つのバリエーションを使用します。 1 つは日本語と英語のテキストの間にスペースがあり、もう 1 つは日本語と英語のテキストの間にスペースがありません。 したがって、SITに追加するキーワードは、"机密的 document" と "机密的document" である必要があります。 同様に、"東京オリンピック2020" というフレーズを検出するには、"東京オリンピック 2020" と "東京オリンピック2020" の 2 つのバリエーションを使用する必要があります。
>
> 中国語/日本語/ 2 バイト文字に加えて、キーワード/フレーズのリストに中国語/日本語以外の単語も含まれている場合 (英語のみなど)、2 つの辞書/キーワード リストを作成することをお勧めします。 1 つは中国語/日本語/ 2 バイト文字を含むキーワード用で、もう1 つは英語のみ用です。
>
> - たとえば、"Highly confidential"、"機密性が高い"、"机密的document" の 3 つのフレーズを含むキーワード辞書/リストを作成する場合は、2 つのキーワード リストを作成する必要があります。
>   1. Highly confidential
>   2. 機密性が高い、机密的document、机密的 document
>
> 2 バイトのハイフンまたは 2 バイトのピリオドを使用して正規表現を作成するときは、正規表現のハイフンまたはピリオドをエスケープするように、必ず両方の文字をエスケープしてください。参考までに、サンプルの正規表現を次に示します。
>
> `(?<!\d)([4][0-9]{3}[\-?\-\t]*[0-9]{4})`
>
> キーワードでは、2 バイト特殊文字を使用しないでください。
>
> キーワード リストでは、単語の一致ではなく文字列の一致を使用することをお勧めします。
