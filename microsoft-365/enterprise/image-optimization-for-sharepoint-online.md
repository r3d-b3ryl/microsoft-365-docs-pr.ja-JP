---
title: SharePoint Online の従来の発行サイトのイメージの最適化
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 9/18/2019
audience: Admin
ms.topic: troubleshooting
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
f1.keywords:
- CSH
ms.custom: Adm_O365
search.appverid:
- SPO160
- MET150
ms.assetid: c7edb02a-fdab-4f91-9a20-cba01dad28ef
description: SharePoint Online の従来の発行サイトで、レンディションとスプライトを使用してイメージのパフォーマンスを向上させる方法について説明します。
ms.openlocfilehash: 47d0f085c13c192417842fcef88c695fe875124c
ms.sourcegitcommit: 79065e72c0799064e9055022393113dfcf40eb4b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/14/2020
ms.locfileid: "46691861"
---
# <a name="image-optimization-for-sharepoint-online-classic-publishing-sites"></a>SharePoint Online の従来の発行サイトのイメージの最適化

Web ページの読み込み速度は、画像、HTML、JavaScript、CSS を含むページをレンダリングするために必要なすべてのコンポーネントの合計サイズによって決まります。 画像は、サイトを魅力的なものにするための最適な方法ですが、そのサイズはパフォーマンスに影響することがあります。 圧縮とサイズ変更、およびスプライトを使用して画像を最適化することで、非常に大きな画像の効果を相殺することができます。 SharePoint イメージ表示を使用すると、1つの大きな画像をアップロードし、イメージのセクションを表示して、再読み込みではなく再利用できるようにすることができます。

>[!NOTE]
>このトピックは、モダンポータルサイトではなく、SharePoint Online の従来の発行サイトに適用されます。 SharePoint Online モダンポータルサイトでのイメージの最適化については、「 [Sharepoint online モダンポータルページで画像を最適化](modern-image-optimization.md)する」を参照してください。
  
## <a name="using-sprites-to-speed-up-image-loading"></a>スプライトを使用してイメージの読み込みを高速化する

|||
|:-----|:-----|
| 画像スプライトには、小さな画像が多数含まれています。 CSS を使用するコンポジット画像の一部を選択して、ページの特定の部分に絶対配置で表示します。 基本的には、複数の画像を読み込む代わりに、ページの1つの画像を移動し、スプライトイメージの必要な部分がエンドユーザーに対して表示される小さなウィンドウでそのイメージの一部を表示します。 SharePoint Online はスプライトを使用して、スプライト spcommon.png にさまざまなアイコンを表示します。  <br/>  ここでは、次の内容について説明します。  <br/>  画像の圧縮  <br/>  イメージの最適化  <br/>  SharePoint image レンディション  <br/> |![Spcommon のスクリーンショット](../media/cc5cdee1-8e54-4537-9a8a-8854f4ee849f.png)|
   
これにより、複数の画像をダウンロードしてからそのイメージをキャッシュし再利用できるため、パフォーマンスが向上します。 画像がキャッシュされていない場合でも、複数の画像の代わりに単一の画像があるので、このメソッドを実行すると、ページの読み込み時間を短縮するサーバーへの HTTP 要求の合計数が減少します。 これは、実際には画像のバンドル形式です。 これは、上記の SharePoint の例に示すように、画像が頻繁に変更されない (たとえば、アイコンなど) 場合に非常に便利な手法です。 Microsoft Visual Studio でこれを実現するために、サードパーティのオープンソースのコミュニティベースのプロジェクトである [Web Essentials](https://vswebessentials.com/)を使用する方法を説明します。 詳細については、「 [SharePoint Online での縮小とバンドル](https://go.microsoft.com/fwlink/?LinkId=708698)」を参照してください。
  
## <a name="using-image-compression-and-optimization-to-speed-up-page-loading"></a>画像の圧縮と最適化を使用してページの読み込みを高速化する

画像の圧縮と最適化は、サイトで使用する画像のファイルサイズを小さくすることを目的としています。 多くの場合、画像のサイズを小さくするための最善の方法は、画像のサイズをサイト上で表示される最大サイズに変更することです。 画像を表示するよりも大きいという意味はありません。 イメージエディターを使用してイメージが正しいサイズになっていることを確認することで、ページのサイズをすばやく簡単に小さくすることができます。
  
画像が適切なサイズになったら、次の手順として、これらの画像の圧縮を最適化します。 写真ギャラリーやサードパーティ製のツールなど、圧縮と最適化に使用できるさまざまなツールがあります。 圧縮の鍵となるのは、エンドユーザーの認識品質を失わずに、ファイルサイズをできるだけ小さくすることです。 圧縮ファイルを高精細表示でテストして、それでもよいかどうかを確認してください。
  
## <a name="speed-up-page-downloads-by-using-sharepoint-image-renditions"></a>SharePoint image レンディションを使用してページのダウンロードを高速化する

画像表示は SharePoint Online の機能であり、定義済みの画像の大きさに基づいて異なるバージョンの画像を提供できます。 これは、ユーザーによって生成された画像コンテンツがある場合、またはサイト上の CSS で幅や高さなどの画像の大きさが固定されている場合に特に重要です。 画像が CSS によって固定されている場合でも、完全な解像度の画像は読み込まれたままです。 この場合は、イメージ表示を使用してファイルサイズを減らすことができます。
  
> [!NOTE]
> レンディションは、発行が有効になっている場合にのみ、SharePoint で使用できます。 [サイトの設定] の下で、[サイトの機能] [ \> \> SharePoint Server 発行の管理] の下で、発行を有効にでき \> ます。 このオプションは、それ以外の場合は表示されません。
  
イメージ表示のサイズ変更は、定義した最小の次元 (幅または高さ) を使用して、その他の次元がロックされた縦横比に基づいて自動的にサイズ変更されるように、画像のサイズを変更することによって機能します。 既定では、中心からのイメージは残りの次元でトリミングされます。 たとえば、100ピクセルの幅と 50px high のレンディションを定義している場合、元の画像の幅は1000px、高さが800ピクセルになるようにサイズ変更されます。これにより、800px 次元が50px になり、1000px 次元 (現在は62.5 ピクセル) が画像の中心からトリミングされます。
  
手順は比較的単純ですが、画像を表示するためには、画像を追加する前に、レンディションを SharePoint サイト上に配置する必要があります。 さらに、SharePoint Server 発行インフラストラクチャ (サイトコレクションレベル) および SharePoint Server Publishing (サイトレベル) 機能がオンになっている必要もあります。
  
### <a name="add-an-image-rendition-to-speed-up-page-loading"></a>イメージ表示を追加してページの読み込みを高速化する
  
1. この手順を実行するユーザーアカウントに、少なくともサイトコレクションのトップレベルサイトに対するデザイン権限があること、およびサイトが web ページに公開されていることを確認します。

2. Web ブラウザーで、発行サイトコレクションのトップレベルサイトに移動します。

3. [ **設定**] アイコンを選択します。

4. [ **サイトの設定** ] ページの [ **外観** ] セクションに、組み込みのイメージ表示が表示されます。

    ボックス内のレンディションを使用することも、[ **イメージ** 表示] を選択して新しいレンディションを作成することもできます。

    ![Image レンディションのスクリーンショット](../media/eaae0d53-657d-47ef-b687-65c5167eae4d.PNG)
  
5. **[イメージ表示]** ページで **[新しいアイテムの追加]** を選択します。

    ![[新しい項目の追加] のスクリーンショット](../media/8cede22e-52bf-4d9d-99cb-162f2f6ce92b.PNG)
  
6. [ **新しいイメージ表示**] ページの [ **名前**] ボックスに、表示の名前を入力します。

7. [ **幅**] ボックスおよび [ **高さ**] ボックスに、ピクセル単位で表示の幅と高さを入力して、[ **保存**] を選択します。

    ![イメージ表示名のスクリーンショット](../media/5a6119ed-c163-40df-a4db-ec629d15607d.PNG)
  
## <a name="custom-cropping-with-image-renditions"></a>画像表示を使用したカスタムトリミング

既定では、イメージ表示はイメージの中央から生成されます。 イメージの使用する部分をトリミングすることにより、個別のイメージのイメージ表示を調整できます。 各レンディションごとに、画像を個別にトリミングすることができます。 画像をトリミングすると、SharePoint の blob キャッシュを使用して各レンディションのイメージのバージョンを作成することで、ページの読み込みが高速化されます。 このようにして、画像は1回だけサイズ変更され、エンドユーザーに対して複数回使用できるようになるため、サーバーの負荷が軽減されます。 イメージ表示をトリミングする方法の詳細については、「 [トリミング an image レンション](https://go.microsoft.com/fwlink/p/?LinkId=525626)」を参照してください。
  

