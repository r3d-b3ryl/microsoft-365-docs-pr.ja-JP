---
title: ベースラインとパフォーマンス履歴を使用して、Office 365 のパフォーマンスをチューニングする
ms.author: tracyp
author: MSFTTracyP
manager: laurawi
ms.date: 07/08/2021
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: 1492cb94-bd62-43e6-b8d0-2a61ed88ebae
ms.collection:
- M365-security-compliance
- Ent_O365
- SPO_Content
description: クライアント コンピューター接続の履歴を確認して、新しい問題を早期に検出する方法について説明します。
ms.openlocfilehash: 460bde30a0b292569b045c339066df2860c50989
ms.sourcegitcommit: 5db5047c24b56f3af90c2bc5c830a7a13eeeccad
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/09/2021
ms.locfileid: "53341582"
---
# <a name="office-365-performance-tuning-using-baselines-and-performance-history"></a><span data-ttu-id="8289e-103">ベースラインとパフォーマンス履歴を使用して、Office 365 のパフォーマンスをチューニングする</span><span class="sxs-lookup"><span data-stu-id="8289e-103">Office 365 performance tuning using baselines and performance history</span></span>

<span data-ttu-id="8289e-104">接続の大まかな基準を確立できる、Office 365ビジネス間の接続パフォーマンスを確認する簡単な方法があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-104">There are some simple ways to check the connection performance between Office 365 and your business that will let you establish a rough baseline of your connectivity.</span></span> <span data-ttu-id="8289e-105">クライアント コンピューター接続のパフォーマンス履歴を知ることにより、新しい問題を早期に検出し、問題を特定し、予測することができます。</span><span class="sxs-lookup"><span data-stu-id="8289e-105">Knowing the performance history of your client computer connections can help you detect emerging issues early, identify, and predict problems.</span></span>
  
<span data-ttu-id="8289e-106">パフォーマンスの問題に取り組むのに慣していない場合、この記事は一般的な質問の検討に役立つ記事です。</span><span class="sxs-lookup"><span data-stu-id="8289e-106">If you're not used to working on performance issues, this article is designed to help you consider some common questions.</span></span> <span data-ttu-id="8289e-107">表示される問題がパフォーマンスの問題であり、サービス インシデントではなく、Office 365しますか?</span><span class="sxs-lookup"><span data-stu-id="8289e-107">How do you know the problem you're seeing is a performance issue and not an Office 365 service incident?</span></span> <span data-ttu-id="8289e-108">パフォーマンスの良い長期的な計画を立てませんか?</span><span class="sxs-lookup"><span data-stu-id="8289e-108">How can you plan for good performance, long term?</span></span> <span data-ttu-id="8289e-109">パフォーマンスを見守る方法</span><span class="sxs-lookup"><span data-stu-id="8289e-109">How can you keep an eye on performance?</span></span> <span data-ttu-id="8289e-110">チームまたはクライアントがデータ の使用中にパフォーマンスが低下している場合Office 365、これらの質問について疑問に思う場合は、次の記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8289e-110">If your team or clients are seeing slow performance while using Office 365, and you wonder about any of these questions, read on.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="8289e-111">**クライアントとクライアントの間でパフォーマンスの問題が発生Office 365今すぐ?**</span><span class="sxs-lookup"><span data-stu-id="8289e-111">**Have a performance issue between your client and Office 365 right now?**</span></span> <span data-ttu-id="8289e-112">「パフォーマンスのトラブルシューティング計画」で説明[されている](performance-troubleshooting-plan.md)手順に従Office 365。</span><span class="sxs-lookup"><span data-stu-id="8289e-112">Follow the steps outlined in the [Performance troubleshooting plan for Office 365](performance-troubleshooting-plan.md).</span></span> 
    
## <a name="something-you-should-know-about-office-365-performance"></a><span data-ttu-id="8289e-113">パフォーマンスに関するOffice 365</span><span class="sxs-lookup"><span data-stu-id="8289e-113">Something you should know about Office 365 performance</span></span>

<span data-ttu-id="8289e-114">Office 365、オートメーションと実際のユーザーによって監視される、大容量の専用 Microsoft ネットワーク内に住んでいます。</span><span class="sxs-lookup"><span data-stu-id="8289e-114">Office 365 lives inside a high-capacity, dedicated Microsoft network that is monitored by automation and real people.</span></span> <span data-ttu-id="8289e-115">クラウドのパフォーマンスを維持Office 365、可能な限りパフォーマンスの調整と合理化を行います。</span><span class="sxs-lookup"><span data-stu-id="8289e-115">Part of maintaining the Office 365 cloud is performance tuning and streamlining where possible.</span></span> <span data-ttu-id="8289e-116">Office 365クラウドのクライアントはインターネットを越えて接続する必要があるから、サービス全体でパフォーマンスを微調整Office 365があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-116">Since clients of the Office 365 cloud have to connect across the Internet, there's ongoing effort to fine-tune the performance across Office 365 services too.</span></span>

<span data-ttu-id="8289e-117">パフォーマンスの向上はクラウドで実際に停止しないので、クラウドを正常かつ迅速に維持する経験も得てこない。</span><span class="sxs-lookup"><span data-stu-id="8289e-117">Performance improvements never really stop in the cloud, so neither does experience with keeping the cloud healthy and quick.</span></span> <span data-ttu-id="8289e-118">場所からユーザーに接続するパフォーマンスの問題がある場合Office 365サポート ケースで開始または待機しない方が最善です。</span><span class="sxs-lookup"><span data-stu-id="8289e-118">Should you have a performance issue connecting from your location to Office 365, it's best not to start with or wait on a Support case.</span></span> <span data-ttu-id="8289e-119">代わりに、'inside out' から問題の調査を開始する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-119">Instead, you should begin investigating the problem from 'the inside out'.</span></span> <span data-ttu-id="8289e-120">つまり、ネットワークの内部から開始し、ネットワークにアクセスOffice 365。</span><span class="sxs-lookup"><span data-stu-id="8289e-120">That is, start inside of your network, and work your way out to Office 365.</span></span> <span data-ttu-id="8289e-121">サポートでケースを開く前に、データを収集し、問題を探索して解決する可能性のあるアクションを実行できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-121">Before you open a case with Support, you can gather data and take actions that will explore, and may resolve, the problem.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="8289e-122">容量の計画と制限に注意Office 365。</span><span class="sxs-lookup"><span data-stu-id="8289e-122">Be aware of capacity planning and limits in Office 365.</span></span> <span data-ttu-id="8289e-123">この情報は、パフォーマンスの問題を解決しようとするときに、先手を行います。</span><span class="sxs-lookup"><span data-stu-id="8289e-123">That information will put you ahead of the curve when trying to resolve a performance issue.</span></span> <span data-ttu-id="8289e-124">次に、サービスの説明とサービス[Microsoft 365 Office 365リンクを示します](/office365/servicedescriptions/office-365-service-descriptions-technet-library)。</span><span class="sxs-lookup"><span data-stu-id="8289e-124">Here's a link to the [Microsoft 365 and Office 365 service descriptions](/office365/servicedescriptions/office-365-service-descriptions-technet-library).</span></span> <span data-ttu-id="8289e-125">これは中央ハブであり、ユーザーが提供するOffice 365は、ここから独自のサービスの説明にリンクされます。</span><span class="sxs-lookup"><span data-stu-id="8289e-125">This is a central hub, and all the services offered by Office 365 have a link that goes to their own Service Descriptions from here.</span></span> <span data-ttu-id="8289e-126">つまり、SharePoint Online の標準制限を確認する必要がある場合は、たとえば[、[SharePoint](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-service-description) Online サービスの説明] をクリックして、[SharePoint Online の制限] セクション[を探します](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits)。</span><span class="sxs-lookup"><span data-stu-id="8289e-126">That means, should you need to see the standard limits for SharePoint Online, for example, you would click [SharePoint Online Service Description](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-service-description) and locate its [SharePoint Online Limits section](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits).</span></span>
  
<span data-ttu-id="8289e-127">パフォーマンスがスライディング スケールであるという理解を得て、トラブルシューティングに進む必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-127">Make sure you go into your troubleshooting with the understanding that performance is a sliding scale.</span></span> <span data-ttu-id="8289e-128">理想化された値を達成し、永続的に維持する方法ではありません。</span><span class="sxs-lookup"><span data-stu-id="8289e-128">It's not about achieving an idealized value and maintaining it permanently.</span></span> <span data-ttu-id="8289e-129">大量のユーザーをオンボーディングしたり、大量のデータ移行を行うなど、帯域幅の高いタスクが発生する場合はストレスが大きいので、パフォーマンスへの影響を計画します。</span><span class="sxs-lookup"><span data-stu-id="8289e-129">Occasional high-bandwidth tasks like on-boarding a large number of users, or doing large data migrations will be stressful, so *plan* for performance impacts then.</span></span> <span data-ttu-id="8289e-130">パフォーマンスの目標を大まかに考える必要がありますが、多くの変数がパフォーマンスに影響を受け、パフォーマンスは異なります。</span><span class="sxs-lookup"><span data-stu-id="8289e-130">You should have a rough idea of your performance targets, but many variables play into performance, so performance varies.</span></span>
  
<span data-ttu-id="8289e-131">パフォーマンスのトラブルシューティングは、特定の目標を達成し、それらの数値を無期限に維持する方法ではなく、すべての変数を考えると、既存のアクティビティを改善する方法です。</span><span class="sxs-lookup"><span data-stu-id="8289e-131">Performance troubleshooting isn't about meeting specific goals and maintaining those numbers indefinitely, it's about improving existing activities, given all the variables.</span></span> 
  
## <a name="okay-what-does-a-performance-problem-look-like"></a><span data-ttu-id="8289e-132">さて、パフォーマンスの問題は次のように見えますか?</span><span class="sxs-lookup"><span data-stu-id="8289e-132">Okay, what does a performance problem look like?</span></span>

<span data-ttu-id="8289e-133">まず、発生している問題が実際にパフォーマンスの問題であり、サービス インシデントではないことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-133">First, you need to make sure that what you are experiencing is indeed a performance issue and not a service incident.</span></span> <span data-ttu-id="8289e-134">パフォーマンスの問題は、サービス インシデントと異なるOffice 365。</span><span class="sxs-lookup"><span data-stu-id="8289e-134">A performance problem is different from a service incident in Office 365.</span></span> <span data-ttu-id="8289e-135">それらを分け合う方法を次に示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-135">Here's how to tell them apart.</span></span>
  
<span data-ttu-id="8289e-136">サービス インシデントは、サービスOffice 365問題が発生した場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="8289e-136">Service Incidents happen when the Office 365 service itself is having issues.</span></span> <span data-ttu-id="8289e-137">[現在の正常性] の下に赤または黄色のアイコンが表示Microsoft 365 管理センター。</span><span class="sxs-lookup"><span data-stu-id="8289e-137">You may see red or yellow icons under **Current health** in the Microsoft 365 admin center.</span></span> <span data-ttu-id="8289e-138">クライアント コンピューターに接続しているクライアント コンピューターのパフォーマンスが低下Office 365があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-138">You may notice performance on client computers connecting to Office 365 is slow.</span></span> <span data-ttu-id="8289e-139">たとえば、[現在の正常性] に赤いアイコンが表示され、Exchange の横に [調査中] と表示されている場合は、Exchange Online を使用しているクライアント メールボックスの速度が低下すると不平を言う組織内のユーザーからの呼び出しを受け取る場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-139">For example, if Current health reports a red icon and you see **Investigating** beside Exchange, you might then also get calls from people in your organization who complain that client mailboxes using Exchange Online are slow.</span></span> <span data-ttu-id="8289e-140">その場合、パフォーマンスがサービスの問題のExchange Onlineだと考えるのが妥当です。</span><span class="sxs-lookup"><span data-stu-id="8289e-140">In that case, it's reasonable to assume that your Exchange Online performance was a victim of Service issues.</span></span>
  
![[Office 365正常性] ダッシュボードには、サービスの復元を示すExchangeを除く、すべてのワークロードが緑色で表示されます。](../media/ec7f0325-9e61-4e1a-bec0-64b87f4469be.PNG)
  
<span data-ttu-id="8289e-142">この時点で、Office 365管理者は、[現在の正常性] をチェックし、[詳細と履歴の表示] をオンにし、多くの場合、システムのメンテナンスを最新の状態に保つ必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-142">At this point, you, the Office 365 admin, should check **Current health** and then **View details and history**, often, to keep up to date on maintenance on the system.</span></span> <span data-ttu-id="8289e-143">現在 **の正常性ダッシュボード** は、サービスの変更と問題について更新するために行いました。</span><span class="sxs-lookup"><span data-stu-id="8289e-143">The **Current health** dashboard was made to update you about changes to, and problems in, the service.</span></span> <span data-ttu-id="8289e-144">正常性履歴、管理者から管理者に書き込まれたメモと説明は、測定に役立ち、継続的な作業について投稿し続けるために役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8289e-144">The notes and explanations written to health history, admin to admin, are there to help you gauge, and to keep you posted about ongoing work.</span></span>
  
![正常性ダッシュボードのOffice 365、サービスが復元Exchange Online理由を説明します。](../media/66609554-426a-4448-8be6-ea09817f41ba.PNG)
  
<span data-ttu-id="8289e-146">インシデントによってパフォーマンスが低下する可能性がある場合でも、パフォーマンスの問題はサービス インシデントではありません。</span><span class="sxs-lookup"><span data-stu-id="8289e-146">A performance issue isn't a service incident, even though incidents can cause slow performance.</span></span> <span data-ttu-id="8289e-147">パフォーマンスの問題は次のように表示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-147">A performance issue looks like this:</span></span>
  
- <span data-ttu-id="8289e-148">パフォーマンスの問題は、管理センターの現在の正常性が **サービスに対** して報告している場合に関係なく発生します。</span><span class="sxs-lookup"><span data-stu-id="8289e-148">A performance issue occurs no matter what the admin center **Current health** is reporting for the service.</span></span>
    
-  <span data-ttu-id="8289e-149">フローに使用される動作は、完了するのに長い時間がかかるか、完了しないかです。</span><span class="sxs-lookup"><span data-stu-id="8289e-149">A behavior that used to flow takes a long time to complete or never completes.</span></span>
    
- <span data-ttu-id="8289e-150">問題を再現したり、適切な一連の手順を実行した場合に問題が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-150">You can replicate the problem too, or know it will happen if you do the right series of steps.</span></span>
    
-  <span data-ttu-id="8289e-151">問題が断続的に発生した場合でも、パターンが存在する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-151">If the problem is intermittent, there can still be a pattern.</span></span> <span data-ttu-id="8289e-152">たとえば、午前 10:00 には、常にアクセスできないユーザーからの呼び出しOffice 365。</span><span class="sxs-lookup"><span data-stu-id="8289e-152">For example, you know that by 10:00 AM you'll have calls from users who can't always access Office 365.</span></span> <span data-ttu-id="8289e-153">呼び出しは正午ごろに終了します。</span><span class="sxs-lookup"><span data-stu-id="8289e-153">The calls will end around noon.</span></span>
    
<span data-ttu-id="8289e-154">このリストは、おそらくよく知られているように聞こえます。使い慣れすぎかもしれません。</span><span class="sxs-lookup"><span data-stu-id="8289e-154">This list probably sounds familiar; maybe too familiar.</span></span> <span data-ttu-id="8289e-155">パフォーマンスの問題を認識すると、"次に何をしますか" という質問が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-155">Once you're aware it's a performance problem, the question becomes, "What do you do next?"</span></span> <span data-ttu-id="8289e-156">この記事の残りの部分は、正確に判断するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8289e-156">The rest of this article helps you determine exactly that.</span></span>
  
## <a name="how-to-define-and-test-the-performance-problem"></a><span data-ttu-id="8289e-157">パフォーマンスの問題を定義してテストする方法</span><span class="sxs-lookup"><span data-stu-id="8289e-157">How to define and test the performance problem</span></span>

<span data-ttu-id="8289e-158">パフォーマンスの問題は時間の間に発生する場合が多いので、実際の問題を定義するには困難な場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-158">Performance issues often emerge over time, so it can be challenging to define the actual problem.</span></span> <span data-ttu-id="8289e-159">問題コンテキストの良いアイデアを持つ問題ステートメントを作成し、繰り返し可能なテスト手順を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-159">Create a good problem statement with a good idea of issue context, and then you need to repeatable testing steps.</span></span> <span data-ttu-id="8289e-160">十分な情報を提供しない問題ステートメントの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-160">Here are some examples of problems statements that don't provide enough information:</span></span>
  
- <span data-ttu-id="8289e-161">受信トレイから予定表に切り替えるのは、以前は気付かなかったもので、今はコーヒーブレークです。</span><span class="sxs-lookup"><span data-stu-id="8289e-161">Switching from my Inbox to my Calendar used to be something I didn't notice, and now it's a coffee-break.</span></span> <span data-ttu-id="8289e-162">以前のように機能できますか?</span><span class="sxs-lookup"><span data-stu-id="8289e-162">Can you make it act like it used to?</span></span>
    
- <span data-ttu-id="8289e-163">オンラインにファイルをアップロードSharePointは永遠に続きます。</span><span class="sxs-lookup"><span data-stu-id="8289e-163">Uploading my files to SharePoint Online is taking forever.</span></span> <span data-ttu-id="8289e-164">午後は遅い理由ですが、それ以外の時間は速いのでしょうか?</span><span class="sxs-lookup"><span data-stu-id="8289e-164">Why is it slow in the afternoon, but any other time, it's fast?</span></span> <span data-ttu-id="8289e-165">速くできないのですか?</span><span class="sxs-lookup"><span data-stu-id="8289e-165">Can't it just be fast?</span></span>
    
<span data-ttu-id="8289e-166">上記の問題に関する記述には、いくつかの大きな課題があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-166">There are several large challenges posed by the problem statements above.</span></span> <span data-ttu-id="8289e-167">具体的には、扱い方があいまいすぎます。</span><span class="sxs-lookup"><span data-stu-id="8289e-167">Specifically, too many ambiguities to deal with.</span></span> <span data-ttu-id="8289e-168">例:</span><span class="sxs-lookup"><span data-stu-id="8289e-168">for example:</span></span>
  
- <span data-ttu-id="8289e-169">受信トレイと予定表を切り替えてラップトップでどのように動作したのかは不明です。</span><span class="sxs-lookup"><span data-stu-id="8289e-169">It's unclear how switching between Inbox and Calendar used to act on the laptop.</span></span>
    
- <span data-ttu-id="8289e-170">ユーザーが 「高速にできない」と言った場合、"高速" とは何ですか?</span><span class="sxs-lookup"><span data-stu-id="8289e-170">When the user says, "Can't it just be fast", what's "fast"?</span></span>
    
- <span data-ttu-id="8289e-171">"永遠" の期間はどのくらいですか?</span><span class="sxs-lookup"><span data-stu-id="8289e-171">How long is "forever"?</span></span> <span data-ttu-id="8289e-172">数秒ですか?</span><span class="sxs-lookup"><span data-stu-id="8289e-172">Is that several seconds?</span></span> <span data-ttu-id="8289e-173">または何分か?</span><span class="sxs-lookup"><span data-stu-id="8289e-173">Or many minutes?</span></span> <span data-ttu-id="8289e-174">または、ユーザーが昼食を取り、アクションが戻って 10 分後に終了する可能性がありますか?</span><span class="sxs-lookup"><span data-stu-id="8289e-174">Or could the user take lunch and the action would finish up 10 minutes after they got back?</span></span>
    
<span data-ttu-id="8289e-175">管理者とトラブルシューティングツールは、このような一般的なステートメントから問題の詳細を認識できない。</span><span class="sxs-lookup"><span data-stu-id="8289e-175">The admin and troubleshooter can't be aware of the *details* of the problem from general statements like these.</span></span> <span data-ttu-id="8289e-176">たとえば、問題がいつ発生したのかはわかりません。</span><span class="sxs-lookup"><span data-stu-id="8289e-176">For example, they don't know when the problem started happening.</span></span> <span data-ttu-id="8289e-177">トラブルシューティングツールは、ユーザーが自宅から動作し、ホーム ネットワーク上で低速の切り替えしか見ない場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-177">The troubleshooter might not know the user works from home and only ever sees slow switching while on their home network.</span></span> <span data-ttu-id="8289e-178">または、ユーザーがローカル クライアント上で他の RAM 負荷の高いアプリケーションを実行する場合。</span><span class="sxs-lookup"><span data-stu-id="8289e-178">Or that the user runs other RAM intensive applications on the local client.</span></span> <span data-ttu-id="8289e-179">管理者は、ユーザーが古いオペレーティング システムを実行している、または最近の更新プログラムを実行していない場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-179">Admins may not know the user is running an older operating system or hasn't run recent updates.</span></span>
  
<span data-ttu-id="8289e-180">ユーザーがパフォーマンスの問題を報告すると、収集する情報が多く含されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-180">When users report a performance problem, there's a lot of information to collect.</span></span> <span data-ttu-id="8289e-181">情報の取得と記録は、問題のスコープと呼ばれる。</span><span class="sxs-lookup"><span data-stu-id="8289e-181">Getting and recording information is called scoping the issue.</span></span> <span data-ttu-id="8289e-182">パフォーマンスの問題に関する情報を収集するために使用できる基本的なスコープリストを次に示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-182">Here is a basic scoping list you can use to collect information about performance issues.</span></span> <span data-ttu-id="8289e-183">このリストは網羅的ではありません。ただし、開始する場所は次の場所です。</span><span class="sxs-lookup"><span data-stu-id="8289e-183">This list is not exhaustive, but it's a place to start:</span></span>
  
- <span data-ttu-id="8289e-184">問題が発生した日付と、昼と夜の何時に発生しましたか?</span><span class="sxs-lookup"><span data-stu-id="8289e-184">On what date did the issue happen, and around what time of day or night?</span></span>
    
- <span data-ttu-id="8289e-185">使用していたクライアント コンピューターの種類と、ビジネス ネットワーク (VPN、有線、ワイヤレス) への接続方法</span><span class="sxs-lookup"><span data-stu-id="8289e-185">What kind of client computer were you using, and how does it connect to the business network (VPN, Wired, Wireless)?</span></span>
    
- <span data-ttu-id="8289e-186">リモートで作業していたか、オフィスにいたか。</span><span class="sxs-lookup"><span data-stu-id="8289e-186">Were you working remotely or were you in the office?</span></span>
    
- <span data-ttu-id="8289e-187">別のコンピューターで同じ操作を試して、同じ動作を確認しましたか?</span><span class="sxs-lookup"><span data-stu-id="8289e-187">Did you try the same actions on another computer and see the same behavior?</span></span>
    
- <span data-ttu-id="8289e-188">操作を書き込むのに苦労する手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="8289e-188">Walk through the steps that are giving you the trouble so that you can write the actions you take down.</span></span>
    
- <span data-ttu-id="8289e-189">パフォーマンスは数秒または数分でどのくらい遅くなりますか?</span><span class="sxs-lookup"><span data-stu-id="8289e-189">How slow in seconds or minutes is the performance?</span></span>
    
- <span data-ttu-id="8289e-190">世界のどこにお住みですか?</span><span class="sxs-lookup"><span data-stu-id="8289e-190">Where in the world are you located?</span></span>
    
<span data-ttu-id="8289e-191">これらの質問のいくつかは、他の質問よりも明らかです。</span><span class="sxs-lookup"><span data-stu-id="8289e-191">Some of these questions are more obvious than others.</span></span> <span data-ttu-id="8289e-192">ほとんどの人は、トラブルシューティングツールが問題を再現するための正確な手順を必要とします。</span><span class="sxs-lookup"><span data-stu-id="8289e-192">Most everyone will understand a troubleshooter needs the exact steps to reproduce the issue.</span></span> <span data-ttu-id="8289e-193">結局のところ、他に何が間違っているのかを記録する方法と、問題が修正された場合のテスト方法は何ですか?</span><span class="sxs-lookup"><span data-stu-id="8289e-193">After all, how else can you record what's wrong, and how else can you test if the issue is fixed?</span></span> <span data-ttu-id="8289e-194">あまり明らかではないのは、「問題が発生した日時」や、タンデムで使用できる情報である「世界のどこにいるか」などです。</span><span class="sxs-lookup"><span data-stu-id="8289e-194">Less obvious are things like "What date and time did you see the issue?", and "Where in the world are you located?", information that can be used in tandem.</span></span> <span data-ttu-id="8289e-195">ユーザーがいつ作業を行っていたかによって、数時間の時間差は、会社のネットワークの一部で既にメンテナンスが進行中である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-195">Depending on when the user was working, a few hours of time difference may mean maintenance is already underway on parts of your company's network.</span></span> <span data-ttu-id="8289e-196">たとえば、会社にハイブリッド SharePoint Search のようなハイブリッド実装がある場合、SharePoint Online とオンプレミス SharePoint Server 2013 インスタンスの両方で検索インデックスを照会できる場合、オンプレミス ファームで更新が進行中である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-196">If, for example, your company has a hybrid implementation, like a hybrid SharePoint Search, which can query search indexes in both SharePoint Online and an On-premises SharePoint Server 2013 instance, updates may be underway in the on-premises farm.</span></span> <span data-ttu-id="8289e-197">会社がクラウドに含まれる場合、システムメンテナンスには、ネットワーク ハードウェアの追加または削除、会社全体の更新プログラムの展開、DNS などのコア インフラストラクチャの変更が含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-197">If your company is all in the cloud, system maintenance may include adding or removing network hardware, rolling out updates that are company-wide, or making changes to DNS, or other core infrastructure.</span></span>
  
<span data-ttu-id="8289e-198">パフォーマンスの問題をトラブルシューティングする場合は、犯罪現場に少し似ていて、証拠から結論を導き出す正確かつ観察的である必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-198">When you're troubleshooting a performance problem, it's a bit like a crime scene, you need to be precise and observant to draw any conclusions from the evidence.</span></span> <span data-ttu-id="8289e-199">これを行うには、証拠を収集して問題の声明を取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-199">In order to do this, you must get a good problem statement by gathering evidence.</span></span> <span data-ttu-id="8289e-200">コンピューターのコンテキスト、ユーザーのコンテキスト、問題が発生した場合、パフォーマンスの問題を公開した正確な手順を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-200">It should include the computer's context, the user's context, when the problem began, and the exact steps that exposed the performance issue.</span></span> <span data-ttu-id="8289e-201">この問題に関するステートメントは、メモの一番上のページである必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-201">This problem statement should be, and stay, the topmost page in your notes.</span></span> <span data-ttu-id="8289e-202">解決に取り組む後に問題ステートメントを再度実行することで、実行するアクションが問題を解決したかどうかをテストして証明するための手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-202">By walking through the problem statement again after you work on the resolution, you are taking the steps to test and prove whether the actions you take have resolved the issue.</span></span> <span data-ttu-id="8289e-203">これは、作業がいつ完了したのかを知る上で重要です。</span><span class="sxs-lookup"><span data-stu-id="8289e-203">This is critical to knowing when your work, there, is done.</span></span>
  
## <a name="do-you-know-how-performance-used-to-look-when-it-was-good"></a><span data-ttu-id="8289e-204">パフォーマンスが良かったときにどのように見えるのか知っていますか?</span><span class="sxs-lookup"><span data-stu-id="8289e-204">Do you know how performance used to look when it was good?</span></span>

<span data-ttu-id="8289e-205">運が悪い場合は、誰も知りません。</span><span class="sxs-lookup"><span data-stu-id="8289e-205">If you're unlucky, nobody knows.</span></span> <span data-ttu-id="8289e-206">誰も番号を持ってはいなかった。</span><span class="sxs-lookup"><span data-stu-id="8289e-206">Nobody had numbers.</span></span> <span data-ttu-id="8289e-207">つまり、誰も「Office 365 で受信トレイを立ち上げに何秒かかっていたか」、または「役員が Lync Online 会議を開催した時にどれくらいの時間がかかっていたか」という簡単な質問に答えきれないということです。これは多くの企業にとって一般的なシナリオです。</span><span class="sxs-lookup"><span data-stu-id="8289e-207">That means nobody can answer the simple question "About how many seconds did it used to take to bring up an Inbox in Office 365?", or "How long did it used to take when the Executives had a Lync Online meeting?", which is a common scenario for many companies.</span></span>
  
<span data-ttu-id="8289e-208">ここで不足しているのは、パフォーマンス基準です。</span><span class="sxs-lookup"><span data-stu-id="8289e-208">What's missing here is a performance baseline.</span></span>
  
<span data-ttu-id="8289e-209">ベースラインは、パフォーマンスのコンテキストを提供します。</span><span class="sxs-lookup"><span data-stu-id="8289e-209">Baselines give you a context for your performance.</span></span> <span data-ttu-id="8289e-210">会社のニーズに応じて、ベースラインを頻繁に実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-210">You should take a baseline occasionally to frequently, depending on the needs of your company.</span></span> <span data-ttu-id="8289e-211">大規模な企業の場合、運用チームは既にオンプレミス環境のベースラインを取る可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-211">If you are a larger company, your Operations team may take baselines for your on-premises environment already.</span></span> <span data-ttu-id="8289e-212">たとえば、月の第 1 月曜日にすべての Exchange サーバーにパッチを適用し、第 3 月曜日にすべての SharePoint サーバーにパッチを適用した場合、重要な機能が運用可能であることを証明するために、運用チームにはパッチ適用後に実行されるタスクとシナリオのリストが含まれます。</span><span class="sxs-lookup"><span data-stu-id="8289e-212">For example, if you patch all the Exchange servers on the first Monday of the month, and all your SharePoint servers on the third Monday, your Operations team probably has a list of tasks and scenarios it runs post-patching, to prove that critical functions are operational.</span></span> <span data-ttu-id="8289e-213">たとえば、受信トレイを開き、[送受信] をクリックし、フォルダーが更新されるのを確認するか、SharePoint でサイトのメイン ページを参照し、エンタープライズ検索ページに移動し、結果を返す検索を実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-213">For example, opening the Inbox, clicking Send/Receive, and making sure the folders update, or, in SharePoint, browsing the main page of the site, going into the enterprise Search page, and doing a search that returns results.</span></span>
  
<span data-ttu-id="8289e-214">アプリケーションが Office 365 にある場合は、ネットワーク内のクライアント コンピューターから出力ポイント、またはネットワークを離れて Office 365 に移動するポイントまで時間 (ミリ秒単位) を測定できる最も基本的な基準の一部です。</span><span class="sxs-lookup"><span data-stu-id="8289e-214">If your applications are in Office 365, some of the most fundamental baselines you can take measure the time (in milliseconds) from a client computer inside your network, to an egress point, or the point where you leave your network and go out to Office 365.</span></span> <span data-ttu-id="8289e-215">調査および記録できる役立つベースラインを次に示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-215">Here are some helpful baselines that you can investigate and record:</span></span>
  
- <span data-ttu-id="8289e-216">クライアント コンピューターと出力ポイントの間のデバイス (プロキシ サーバーなど) を識別します。</span><span class="sxs-lookup"><span data-stu-id="8289e-216">Identify the devices between your client computer and your egress point, for example, your proxy server.</span></span>
    
  - <span data-ttu-id="8289e-217">発生するパフォーマンスの問題に関するコンテキスト (IP アドレス、デバイスの種類、および cetera) を持つデバイスを知る必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-217">You need to know your devices so that you have context (IP addresses, type of device, et cetera) for performance problems that arise.</span></span>
    
  - <span data-ttu-id="8289e-218">プロキシ サーバーは一般的な出力ポイントなので、Web ブラウザーを確認して、使用するプロキシ サーバーが設定されている場合は確認できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-218">Proxy servers are common egress points, so you can check your web browser to see what proxy server it is set to use, if any.</span></span>
    
  - <span data-ttu-id="8289e-219">ネットワークを検出してマップできるサード パーティ製のツールがありますが、デバイスを知る最も安全な方法は、ネットワーク チームのメンバーに問い合わせください。</span><span class="sxs-lookup"><span data-stu-id="8289e-219">There are third party tools that can discover and map your network, but the safest way to know your devices is to ask a member of your network team.</span></span>
    
- <span data-ttu-id="8289e-220">インターネット サービス プロバイダー (ISP) を特定し、連絡先情報を書き込み、回線の帯域幅を確認します。</span><span class="sxs-lookup"><span data-stu-id="8289e-220">Identify your Internet service provider (ISP), write down their contact information, and ask how many circuits how much bandwidth you have.</span></span>
    
- <span data-ttu-id="8289e-221">会社内で、クライアントと出力ポイントの間のデバイスのリソースを特定するか、ネットワークの問題について話す緊急連絡先を特定します。</span><span class="sxs-lookup"><span data-stu-id="8289e-221">Inside your company, identify resources for the devices between your client and the egress point, or identify an emergency contact to talk to about networking issues.</span></span>
    
<span data-ttu-id="8289e-222">ツールを使用した簡単なテストで計算できるベースラインを次に示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-222">Here are some baselines that simple testing with tools can calculate for you:</span></span>
  
- <span data-ttu-id="8289e-223">クライアント コンピューターから出力ポイントへの時間 (ミリ秒単位)</span><span class="sxs-lookup"><span data-stu-id="8289e-223">Time from your client computer to your egress point in milliseconds</span></span>
    
- <span data-ttu-id="8289e-224">出力ポイントから出力ポイントOffice 365ミリ秒単位</span><span class="sxs-lookup"><span data-stu-id="8289e-224">Time from your egress point to Office 365 in milliseconds</span></span>
    
- <span data-ttu-id="8289e-225">参照時の URLS を解決するサーバーのOffice 365場所</span><span class="sxs-lookup"><span data-stu-id="8289e-225">Location in the world of the server that resolves the URLS for Office 365 when you browse</span></span>
    
- <span data-ttu-id="8289e-226">ISP の DNS 解決の速度 (ミリ秒単位)、パケット到着の不整合 (ネットワーク ジッター)、アップロードおよびダウンロード時間 (ミリ秒単位)</span><span class="sxs-lookup"><span data-stu-id="8289e-226">The speed of your ISP's DNS resolution in milliseconds, inconsistencies in packet arrival (network jitter), upload and download times in milliseconds</span></span>
    
<span data-ttu-id="8289e-227">これらの手順を実行する方法に慣れていない場合は、この記事で詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="8289e-227">If you're unfamiliar with how to carry out these steps, we'll go into more detail in this article.</span></span> 
  
## <a name="what-is-a-baseline"></a><span data-ttu-id="8289e-228">ベースラインとは</span><span class="sxs-lookup"><span data-stu-id="8289e-228">What is a baseline?</span></span>

<span data-ttu-id="8289e-229">問題が発生した場合の影響は分かっていますが、過去のパフォーマンス データを知らない場合は、それがどれだけ悪くなるか、いつになったかというコンテキストを持つ必要はありません。</span><span class="sxs-lookup"><span data-stu-id="8289e-229">You'll know the impact when it goes bad, but if you don't know your historical performance data, it's not possible to have a context for how bad it may have become, and when.</span></span> <span data-ttu-id="8289e-230">したがって、ベースラインなしでは、パズルを解決するための重要な手がかり(パズル ボックスの画像)が不足しています。</span><span class="sxs-lookup"><span data-stu-id="8289e-230">So without a baseline, you're missing the key clue to solve the puzzle: the picture on the puzzle box.</span></span> <span data-ttu-id="8289e-231">パフォーマンスのトラブルシューティングでは、比較ポイントが必要  *です*  。</span><span class="sxs-lookup"><span data-stu-id="8289e-231">In performance troubleshooting, you need a point of  *comparison*  .</span></span> <span data-ttu-id="8289e-232">単純なパフォーマンス基準は、取り入れにくいものではありません。</span><span class="sxs-lookup"><span data-stu-id="8289e-232">Simple performance baselines aren't difficult to take.</span></span> <span data-ttu-id="8289e-233">運用チームは、スケジュールに従ってこれらのタスクを実行できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-233">Your Operations team can be tasked with carrying these out on a schedule.</span></span> <span data-ttu-id="8289e-234">たとえば、接続が次のように見えるとします。</span><span class="sxs-lookup"><span data-stu-id="8289e-234">For example, let's say your connection looks like this:</span></span> 
  
![クライアント、プロキシ、およびクラウドを示す基本的なOffice 365図。](../media/c6ca7140-09f9-4c2d-a775-dbf2820eaa0c.PNG)
  
<span data-ttu-id="8289e-236">つまり、ネットワーク チームに確認を行い、プロキシ サーバーを介して会社を離れ、クライアント コンピューターがクラウドに送信する要求をプロキシが処理します。</span><span class="sxs-lookup"><span data-stu-id="8289e-236">That means you've checked with your network team and found out that you leave your company for the Internet through a proxy server, and that proxy handles all the requests your client computer sends to the cloud.</span></span> <span data-ttu-id="8289e-237">この場合は、すべての介入デバイスを一覧表示する簡略化されたバージョンの接続を描画する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-237">In this case, you should draw a simplified version of your connection that lists all the intervening devices.</span></span> <span data-ttu-id="8289e-238">次に、クライアント、出力ポイント (インターネット用のネットワークを離れる場所)、およびクラウド間のパフォーマンスをテストするために使用できるツールOffice 365します。</span><span class="sxs-lookup"><span data-stu-id="8289e-238">Now, insert tools that you can use to test the performance between the client, the egress point (where you leave your network for the Internet), and the Office 365 cloud.</span></span>
  
![クライアント、プロキシ、クラウドを含む基本的なネットワーク、およびツールの提案 PSPing、TraceTCP、およびネットワーク トレース。](../media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
<span data-ttu-id="8289e-240">パフォーマンス データを見つけるために必要な専門知識の量により、オプションは単純と高度と一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-240">The options are listed as **Simple** and **Advanced** because of the amount of expertise you need in order to find the performance data.</span></span> <span data-ttu-id="8289e-241">PsPing や TraceTCP のようなコマンド ライン ツールの実行に比べて、ネットワーク トレースには多くの時間が必要です。</span><span class="sxs-lookup"><span data-stu-id="8289e-241">A network trace will take a lot of time, compared to running command-line tools like PsPing and TraceTCP.</span></span> <span data-ttu-id="8289e-242">これらの 2 つのコマンド ライン ツールは、ICMP パケットを使用しない (Office 365 によってブロックされる) ため、クライアント コンピューターまたはプロキシ サーバー (アクセス権がある場合) を離れ、Office 365 に到着するまでの時間をミリ秒単位で与えるので選択されました。</span><span class="sxs-lookup"><span data-stu-id="8289e-242">These two command-line tools were chosen because they don't use ICMP packets, which will be blocked by Office 365, and because they give the time in milliseconds that it takes to leave the client computer, or proxy server (if you have access) and arrive at Office 365.</span></span> <span data-ttu-id="8289e-243">あるコンピューターから別のコンピューターへの個々のホップは、時間の値で終わるので、ベースラインに最適です。</span><span class="sxs-lookup"><span data-stu-id="8289e-243">Each individual hop from one computer to another will end up with a time value, and that's great for baselines!</span></span> <span data-ttu-id="8289e-244">同様に重要なことに、これらのコマンド ライン ツールを使用すると、コマンドにポート番号を追加できます。これは、Office 365 が Secure Sockets Layer とトランスポート層セキュリティ (SSL および TLS) で使用するポート 443 を介して通信する場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="8289e-244">Just as importantly, these command-line tools allow you to add a port number onto the command, this is useful because Office 365 communicates over port 443, which is the port used by Secure Sockets Layer and Transport Layer Security (SSL and TLS).</span></span> <span data-ttu-id="8289e-245">ただし、他のサード パーティ製ツールは、状況に合った優れたソリューションになる場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-245">However, other third-party tools may be better solutions for your situation.</span></span> <span data-ttu-id="8289e-246">Microsoft はこれらすべてのツールをサポートしているのではないので、何らかの理由で PsPing と TraceTCP を動作できない場合は、Netmon のようなツールを使用してネットワーク トレースに進む必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-246">Microsoft doesn't support all of these tools, so if, for some reason, you can't get PsPing and TraceTCP working, move on to a network trace with a tool like Netmon.</span></span> 
  
<span data-ttu-id="8289e-247">業務時間前、使用時間の多い場合は再びベースラインを取り、その後数時間後に再度実行できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-247">You can take a baseline before business hours, again during heavy use, and then again after hours.</span></span> <span data-ttu-id="8289e-248">つまり、最後に次のようなフォルダー構造が作成される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-248">This means you may have a folder structure that looks a bit like this in the end:</span></span>
  
![パフォーマンス データをフォルダーに整理する方法を提示している図。](../media/13e01ffa-f0f2-4d10-b89d-d5980ec89fae.png)
  
<span data-ttu-id="8289e-250">ファイルの命名規則も選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-250">You should also pick a naming convention your files.</span></span> <span data-ttu-id="8289e-251">次に、いくつかの例を示します:</span><span class="sxs-lookup"><span data-stu-id="8289e-251">Here are some examples:</span></span>
  
- <span data-ttu-id="8289e-252">Feb_09_2015_9amPST_PerfBaseline_Netmon_ClientToEgress_Normal</span><span class="sxs-lookup"><span data-stu-id="8289e-252">Feb_09_2015_9amPST_PerfBaseline_Netmon_ClientToEgress_Normal</span></span>
    
- <span data-ttu-id="8289e-253">Jan_10_2015_3pmCST_PerfBaseline_PsPing_ClientToO365_bypassProxy_SLOW</span><span class="sxs-lookup"><span data-stu-id="8289e-253">Jan_10_2015_3pmCST_PerfBaseline_PsPing_ClientToO365_bypassProxy_SLOW</span></span>
    
- <span data-ttu-id="8289e-254">Feb_08_2015_2pmEST_PerfBaseline_BADPerf</span><span class="sxs-lookup"><span data-stu-id="8289e-254">Feb_08_2015_2pmEST_PerfBaseline_BADPerf</span></span>
    
- <span data-ttu-id="8289e-255">Feb_08_2015_8-30amEST_PerfBaseline_GoodPerf</span><span class="sxs-lookup"><span data-stu-id="8289e-255">Feb_08_2015_8-30amEST_PerfBaseline_GoodPerf</span></span>
    
<span data-ttu-id="8289e-256">これを行う方法は多数ありますが、形式を使うのは開始 **\<dateTime\>\<what's happening in the test\>** する良い場所です。</span><span class="sxs-lookup"><span data-stu-id="8289e-256">There are lots of different ways to do this, but using the format **\<dateTime\>\<what's happening in the test\>** is a good place to start.</span></span> <span data-ttu-id="8289e-257">後で問題のトラブルシューティングを行う場合は、この問題について詳しい情報を得る必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-257">Being diligent about this will help a lot when you are trying to troubleshoot issues later.</span></span> <span data-ttu-id="8289e-258">後で、「2 月 8 日に 2 つのトレースを取ったが、1 つはパフォーマンスが良く、1 つは悪い結果を示したので、比較できる」と言えるでしょう。</span><span class="sxs-lookup"><span data-stu-id="8289e-258">Later, you'll be able to say "I took two traces on February 8th, one showed good performance and one showed bad, so we can compare them".</span></span> <span data-ttu-id="8289e-259">これはトラブルシューティングに非常に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8289e-259">This is extremely helpful for troubleshooting.</span></span> 
  
<span data-ttu-id="8289e-260">履歴基準を維持するには、整理された方法が必要です。</span><span class="sxs-lookup"><span data-stu-id="8289e-260">You need to have an organized way to keep your historical baselines.</span></span> <span data-ttu-id="8289e-261">この例では、単純なメソッドは 3 つのコマンド ライン出力を生成し、結果はスクリーン ショットとして収集されましたが、代わりにネットワーク キャプチャ ファイルが含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-261">In this example, the simple methods produced three command line outputs and the results were collected as screen shots, but you may have network capture files instead.</span></span> <span data-ttu-id="8289e-262">最適な方法を使用します。</span><span class="sxs-lookup"><span data-stu-id="8289e-262">Use the method that works best for you.</span></span> <span data-ttu-id="8289e-263">履歴ベースラインを保存し、オンライン サービスの動作の変化に気づくポイントで参照します。</span><span class="sxs-lookup"><span data-stu-id="8289e-263">Store your historical baselines and refer to them at points where you notice changes in the behavior of online services.</span></span> 
  
## <a name="why-collect-performance-data-during-a-pilot"></a><span data-ttu-id="8289e-264">パイロットの間にパフォーマンス データを収集する理由</span><span class="sxs-lookup"><span data-stu-id="8289e-264">Why collect performance data during a pilot?</span></span>

<span data-ttu-id="8289e-265">このサービスのパイロットの間に比して、ベースラインの作成を開始するOffice 365はありません。</span><span class="sxs-lookup"><span data-stu-id="8289e-265">There is no better time to start making baselines than during a pilot of the Office 365 service.</span></span> <span data-ttu-id="8289e-266">オフィスには数千人のユーザー、数十万人、または 5 人のユーザーが含む場合がありますが、ユーザー数が少なくても、パフォーマンスの変動を測定するためのテストを実行できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-266">Your office may have thousands of users, hundreds of thousands, or it may have five, but even with a small number of users, you can perform tests to measure fluctuations in performance.</span></span> <span data-ttu-id="8289e-267">大規模な企業の場合、Office 365 をパイロットしている数百人のユーザーの代表的なサンプルを数千人に投影して、問題が発生する前に発生する可能性のある場所を知る場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-267">In the case of a large company, a representative sample of several hundred users piloting Office 365 can be projected outward to several thousands so you know where issues might arise before they happen.</span></span>
  
<span data-ttu-id="8289e-268">小さな会社の場合、オンボーディングは、すべてのユーザーが同時にサービスにアクセスし、パイロットがいないので、パフォーマンス対策を維持して、パフォーマンスの悪い操作をトラブルシューティングする必要がある可能性があるユーザーにデータを表示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-268">In the case of a small company, where on-boarding means that all users go to the service at the same time and there is no pilot, keep performance measures so that you have data to show to anyone who may have to troubleshoot a badly performing operation.</span></span> <span data-ttu-id="8289e-269">たとえば、急に建物の周りを歩き回って、以前は非常に迅速に発生した中規模のグラフィックをアップロードするのに要する時間に気付いた場合です。</span><span class="sxs-lookup"><span data-stu-id="8289e-269">For example, if you notice that all of a sudden you can walk around your building in the time it takes to upload a medium-sized graphic where it used to happen very quickly.</span></span>
  
## <a name="how-to-collect-baselines"></a><span data-ttu-id="8289e-270">基準計画を収集する方法</span><span class="sxs-lookup"><span data-stu-id="8289e-270">How to collect baselines</span></span>

<span data-ttu-id="8289e-271">すべてのトラブルシューティング 計画では、少なくとも次の情報を識別する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-271">For all troubleshooting plans you need to identify these things at a minimum:</span></span>
  
- <span data-ttu-id="8289e-272">使用しているクライアント コンピューター (コンピューターまたはデバイスの種類、IP アドレス、および問題の原因となるアクション)</span><span class="sxs-lookup"><span data-stu-id="8289e-272">The client computer you're using (the type of computer or device, an IP address, and the actions that caused the issue)</span></span>
    
- <span data-ttu-id="8289e-273">クライアント コンピューターが世界中にある場所 (たとえば、このユーザーがネットワークへの VPN 上にあるか、リモートで作業するか、会社のイントラネット上にあるかなど)</span><span class="sxs-lookup"><span data-stu-id="8289e-273">Where the client computer is located in the world (for example, whether this user on a VPN to the network, working remotely, or on the company intranet)</span></span>
    
- <span data-ttu-id="8289e-274">クライアント コンピューターがネットワークから使用する出力ポイント (ISP またはインターネットのトラフィックがビジネスから離れるポイント)</span><span class="sxs-lookup"><span data-stu-id="8289e-274">The egress point the client computer uses from your network (the point at which traffic leaves your business for an ISP or the Internet)</span></span>
    
 <span data-ttu-id="8289e-275">ネットワーク管理者からネットワークのレイアウトを確認できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-275">You can find out the layout of your network from the network administrator.</span></span> <span data-ttu-id="8289e-276">小規模なネットワークを使用している場合は、インターネットに接続しているデバイスを確認し、レイアウトに関する質問がある場合は ISP に電話してください。</span><span class="sxs-lookup"><span data-stu-id="8289e-276">If you're on a small network, take a look at the devices connecting you to the Internet, and call your ISP if you have questions about the layout.</span></span> <span data-ttu-id="8289e-277">参照用の最終レイアウトのグラフィックを作成します。</span><span class="sxs-lookup"><span data-stu-id="8289e-277">Create a graphic of the final layout for your reference.</span></span> 
  
<span data-ttu-id="8289e-278">このセクションでは、簡単なコマンド ライン ツールとメソッド、さらに高度なツール オプションについて説明します。</span><span class="sxs-lookup"><span data-stu-id="8289e-278">This section is broken into simple command-line tools and methods, and more advanced tools options.</span></span> <span data-ttu-id="8289e-279">最初に簡単なメソッドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="8289e-279">We'll cover simple methods first.</span></span> <span data-ttu-id="8289e-280">ただし、パフォーマンスに問題がある場合は、高度な方法にジャンプして、パフォーマンストラブルシューティングのアクション プランのサンプルを試してください。</span><span class="sxs-lookup"><span data-stu-id="8289e-280">But if you've got a performance problem right now, you should jump to advanced methods and try out the sample performance-troubleshooting action plan.</span></span>
  
### <a name="simple-methods"></a><span data-ttu-id="8289e-281">単純なメソッド</span><span class="sxs-lookup"><span data-stu-id="8289e-281">Simple methods</span></span>

<span data-ttu-id="8289e-282">これらの単純な方法の目的は、単純なパフォーマンス 基準を時間の間に取り、理解し、適切に保存し、パフォーマンスに関する情報を得Office 365です。</span><span class="sxs-lookup"><span data-stu-id="8289e-282">The objective of these simple methods is to learn to take, understand, and properly store simple performance baselines over time so that you are informed about Office 365 performance.</span></span> <span data-ttu-id="8289e-283">前に説明した簡単な図を次に示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-283">Here's the very simple diagram for simple, as you've seen before:</span></span>
  
![クライアント、プロキシ、クラウドを含む基本的なネットワーク、およびツールの提案 PSPing、TraceTCP、およびネットワーク トレース。](../media/627bfb77-abf7-4ef1-bbe8-7f8cbe48e1d2.png)
  
> [!NOTE]
> <span data-ttu-id="8289e-285">TraceTCP はこのスクリーン ショットに含まれています。これは、要求が処理に要する時間と、あるコンピューターから次のコンピューターへの接続の数と、要求が宛先に到達するまでに要するネットワーク ホップの数をミリ秒単位で表示するのに役立つツールなのでです。</span><span class="sxs-lookup"><span data-stu-id="8289e-285">TraceTCP is included in this screen shot because it's a useful tool for showing, in milliseconds, how long a request takes to process, and how many network hops, or connections from one computer to the next, that the request takes to reach a destination.</span></span> <span data-ttu-id="8289e-286">TraceTCP では、ホップ中に使用されるサーバーの名前を指定することもできます。これは、サポートのトラブルシューティング ツールMicrosoft Office 365役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8289e-286">TraceTCP can also give the names of servers used during hops, which can be useful to a Microsoft Office 365 troubleshooter in Support.</span></span> <span data-ttu-id="8289e-287">> TraceTCP コマンドは、次のような非常に単純な場合があります。>>にポート番号を含める必要  `tracetcp.exe outlook.office365.com:443` があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-287">> TraceTCP commands can be very simple, such as: >  `tracetcp.exe outlook.office365.com:443`> Remember to include the port number in the command!</span></span><span data-ttu-id="8289e-288"> > [TraceTCP](https://simulatedsimian.github.io/tracetcp_download.html) は無料ダウンロードですが、Wincap に依存しています。</span><span class="sxs-lookup"><span data-stu-id="8289e-288"> > [TraceTCP](https://simulatedsimian.github.io/tracetcp_download.html) is a free download, but relies on Wincap.</span></span> <span data-ttu-id="8289e-289">Wincap は、Netmon によっても使用およびインストールされるツールです。</span><span class="sxs-lookup"><span data-stu-id="8289e-289">Wincap is a tool that is also used and installed by Netmon.</span></span> <span data-ttu-id="8289e-290">また、[高度なメソッド] セクションで Netmon を使用します。</span><span class="sxs-lookup"><span data-stu-id="8289e-290">We also use Netmon in the advanced methods section.</span></span> 
  
 <span data-ttu-id="8289e-291">複数のオフィスがある場合は、クライアントのデータセットをそれらの各場所に保持する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-291">If you have multiple offices, you'll need to keep a set of data from a client in each of those locations as well.</span></span> <span data-ttu-id="8289e-292">このテストは待機時間を測定します。この場合、クライアントが Office 365 に要求を送信し、Office 365 が要求に応答する時間を表す数値です。</span><span class="sxs-lookup"><span data-stu-id="8289e-292">This test measures latency, which, in this case, is a number value that describes the amount of time between a client sending a request to Office 365, and Office 365 responding to the request.</span></span> <span data-ttu-id="8289e-293">テストはクライアント コンピューター上のドメイン内で発生し、ネットワーク内から出力ポイントを経由して、インターネット経由で Office 365 に戻るラウンド トリップを測定します。</span><span class="sxs-lookup"><span data-stu-id="8289e-293">The testing originates inside your domain on a client computer, and looks to measure a round trip from inside your network, out through an egress point, across the Internet to Office 365, and back.</span></span> 
  
<span data-ttu-id="8289e-294">この場合、プロキシ サーバーの出力ポイントに対処するには、いくつかの方法があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-294">There are a few ways to deal with the egress point, in this case, the proxy server.</span></span> <span data-ttu-id="8289e-295">1 ~ 2、次に 2 ~ 3 をトレースし、ミリ秒単位で数値を追加して、ネットワークの端に最終的な合計を取得できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-295">You can either trace from 1 to 2 and then 2 to 3, and then add the numbers in milliseconds to get a final total to the edge of your network.</span></span> <span data-ttu-id="8289e-296">または、ネットワーク アドレスのプロキシをバイパスする接続Office 365できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-296">Or, you can configure the connection to bypass the proxy for Office 365 addresses.</span></span> <span data-ttu-id="8289e-297">ファイアウォール、リバース プロキシ、または 2 つの組み合わせがある大規模なネットワークでは、多くの URL に対してトラフィックを渡すプロキシ サーバーで例外を作成する必要がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-297">In a larger network with a firewall, reverse proxy, or some combination of the two, you may need to make exceptions on the proxy server that will allow traffic to pass for a lot of URLs.</span></span> <span data-ttu-id="8289e-298">ユーザーが使用するエンドポイントの一覧Office 365 URL[と IP Office 365を参照してください](https://support.office.com/article/8548a211-3fe7-47cb-abb1-355ea5aa88a2)。</span><span class="sxs-lookup"><span data-stu-id="8289e-298">For the list of endpoints used by Office 365, see [Office 365 URLs and IP address ranges](https://support.office.com/article/8548a211-3fe7-47cb-abb1-355ea5aa88a2).</span></span> <span data-ttu-id="8289e-299">認証プロキシがある場合は、まず次の例外をテストします。</span><span class="sxs-lookup"><span data-stu-id="8289e-299">If you have an authenticating proxy, begin by testing exceptions for the following:</span></span>
  
- <span data-ttu-id="8289e-300">ポート 80 および 443</span><span class="sxs-lookup"><span data-stu-id="8289e-300">Ports 80 and 443</span></span>
    
- <span data-ttu-id="8289e-301">TCP と HTTP</span><span class="sxs-lookup"><span data-stu-id="8289e-301">TCP and HTTPs</span></span>
    
- <span data-ttu-id="8289e-302">次の URL に送信される接続。</span><span class="sxs-lookup"><span data-stu-id="8289e-302">Connections that are outbound to any of these URLs:</span></span>
    
- <span data-ttu-id="8289e-303">\*.microsoftonline.com</span><span class="sxs-lookup"><span data-stu-id="8289e-303">\*.microsoftonline.com</span></span>
    
- <span data-ttu-id="8289e-304">\*.microsoftonline-p.com</span><span class="sxs-lookup"><span data-stu-id="8289e-304">\*.microsoftonline-p.com</span></span>
    
- <span data-ttu-id="8289e-305">\*.sharepoint.com</span><span class="sxs-lookup"><span data-stu-id="8289e-305">\*.sharepoint.com</span></span>
    
- <span data-ttu-id="8289e-306">\*.outlook.com</span><span class="sxs-lookup"><span data-stu-id="8289e-306">\*.outlook.com</span></span>
    
- <span data-ttu-id="8289e-307">\*.lync.com</span><span class="sxs-lookup"><span data-stu-id="8289e-307">\*.lync.com</span></span>
    
- <span data-ttu-id="8289e-308">osub.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="8289e-308">osub.microsoft.com</span></span>
    
<span data-ttu-id="8289e-309">プロキシの干渉や認証を行わずに、すべてのユーザーがこれらのアドレスにアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-309">All users need to be allowed to get to these addresses without any proxy interference or authentication.</span></span> <span data-ttu-id="8289e-310">小規模なネットワークでは、これらを Web ブラウザーのプロキシ バイパス リストに追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-310">On a smaller network, you should add these to your proxy bypass list in your web browser.</span></span> 
  
<span data-ttu-id="8289e-311">プロキシ バイパス リストにこれらを追加するには、Internet Explorer ツール インターネットオプション接続 LAN の設定 [詳細設定] \>  \>  \> **に** \> **移動します**。</span><span class="sxs-lookup"><span data-stu-id="8289e-311">To add these to your proxy bypass list in Internet Explorer, go to **Tools** \> **Internet Options** \> **Connections** \> **LAN settings** \> **Advanced**.</span></span> <span data-ttu-id="8289e-312">[詳細設定] タブには、プロキシ サーバーとプロキシ サーバー ポートも表示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-312">The advanced tab is also where you will find your proxy server and proxy server port.</span></span> <span data-ttu-id="8289e-313">[詳細設定] ボタンにアクセスするには **、[LAN に** プロキシ サーバーを使用する] チェック ボックスをオンにする **必要があります** 。</span><span class="sxs-lookup"><span data-stu-id="8289e-313">You may need to click the checkbox **Use a proxy server for your LAN**, to access the **Advanced** button.</span></span> <span data-ttu-id="8289e-314">ローカル アドレスのプロキシ サーバーを **バイパスするがチェックされている必要** があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-314">You'll want to make sure that **Bypass proxy server for local addresses** is checked.</span></span> <span data-ttu-id="8289e-315">[詳細設定] **をクリック** すると、例外を入力できるテキスト ボックスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-315">Once you click **Advanced**, you'll see a text box where you can enter exceptions.</span></span> <span data-ttu-id="8289e-316">上記のワイルドカード URL は、次のようにセミコロンで区切ります。</span><span class="sxs-lookup"><span data-stu-id="8289e-316">Separate the wildcard URLs listed above with semi-colons, for example:</span></span>
  
<span data-ttu-id="8289e-317">\*.microsoftonline.com; \*.sharepoint.com</span><span class="sxs-lookup"><span data-stu-id="8289e-317">\*.microsoftonline.com; \*.sharepoint.com</span></span>
  
<span data-ttu-id="8289e-318">プロキシをバイパスすると、ping または PsPing をリモート URL で直接Office 365があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-318">Once you bypass your proxy, you should be able to use ping or PsPing directly on an Office 365 URL.</span></span> <span data-ttu-id="8289e-319">次の手順では、ping ファイルをテスト **outlook.office365.com。**</span><span class="sxs-lookup"><span data-stu-id="8289e-319">The next step will be to test ping **outlook.office365.com**.</span></span> <span data-ttu-id="8289e-320">または、PsPing またはコマンドにポート番号を指定できる別のツールを使用している場合は、portal.microsoftonline.com:443 に対して **PsPing** を実行して、平均ラウンド トリップ時間をミリ秒単位で表示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-320">Or, if you're using PsPing or another tool that will let you supply a port number to the command, PsPing against **portal.microsoftonline.com:443** to see the average round trip time in milliseconds.</span></span> 
  
<span data-ttu-id="8289e-321">ラウンド トリップ時間 (RTT) は、outlook.office365.com のようなサーバーに HTTP 要求を送信し、それを行ったことをサーバーが認識している応答を返す時間を測定する数値です。</span><span class="sxs-lookup"><span data-stu-id="8289e-321">The round trip time, or RTT, is a number value that measures how long it takes to send a HTTP request to a server like outlook.office365.com and get a response back that acknowledges the server knows that you did it.</span></span> <span data-ttu-id="8289e-322">この省略形は RTT と表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-322">You'll sometimes see this abbreviated as RTT.</span></span> <span data-ttu-id="8289e-323">これは比較的短い時間である必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-323">This should be a relatively short amount of time.</span></span>
  
<span data-ttu-id="8289e-324">このテストを実行するには[、PSPing](/sysinternals/downloads/psping)または他のツールを使用する必要があります。このテストを実行するには、ユーザーがブロックOffice 365 ICMP パケットを使用しない必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-324">You have to use [PSPing](/sysinternals/downloads/psping) or another tool that does not use ICMP packets which are blocked by Office 365 in order to do this test.</span></span> 
  
 <span data-ttu-id="8289e-325">**PsPing を使用して、ページ URL から直接ミリ秒単位で全体のラウンド トリップ時間を取得Office 365する方法**</span><span class="sxs-lookup"><span data-stu-id="8289e-325">**How to use PsPing to get an overall round trip time in milliseconds directly from an Office 365 URL**</span></span>
  
1. <span data-ttu-id="8289e-326">次の手順を実行して、管理者特権のコマンド プロンプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-326">Run an elevated command prompt by completing these steps:</span></span>
    
1. <span data-ttu-id="8289e-327">**[開始]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="8289e-327">Click **Start**.</span></span>
    
2. <span data-ttu-id="8289e-328">[検索 **の開始] ボックス** に「cmd」と入力し、Ctrl キーを押しながら Shift キーを押しながら Enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="8289e-328">In the **Start Search** box, type cmd, and then press CTRL+SHIFT+ENTER.</span></span>
    
3. <span data-ttu-id="8289e-329">**[ユーザー アカウント制御]** ダイアログ ボックスが表示された場合、このボックスに希望する動作が表示されていることを確認し、**[継続]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="8289e-329">If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Continue**.</span></span>
    
2. <span data-ttu-id="8289e-330">ツール (この場合は PsPing) がインストールされているフォルダーに移動し、次の URL をOffice 365します。</span><span class="sxs-lookup"><span data-stu-id="8289e-330">Navigate to the folder where the tool (in this case PsPing) is installed and test these Office 365 URLs:</span></span>
    
  - <span data-ttu-id="8289e-331">psping admin.microsoft.com:443</span><span class="sxs-lookup"><span data-stu-id="8289e-331">psping admin.microsoft.com:443</span></span>
    
  - <span data-ttu-id="8289e-332">psping microsoft-my.sharepoint.com:443</span><span class="sxs-lookup"><span data-stu-id="8289e-332">psping microsoft-my.sharepoint.com:443</span></span>
    
  - <span data-ttu-id="8289e-333">psping outlook.office365.com:443</span><span class="sxs-lookup"><span data-stu-id="8289e-333">psping outlook.office365.com:443</span></span>
    
  - <span data-ttu-id="8289e-334">psping www.yammer.com:443</span><span class="sxs-lookup"><span data-stu-id="8289e-334">psping www.yammer.com:443</span></span>
    
    ![PSPing コマンドは、ポート 443 microsoft-my.sharepoint.com 実行します。](../media/3258f620-4513-4e82-95c9-06b387fc3a82.PNG)
  
<span data-ttu-id="8289e-336">ポート番号 443 を必ず含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-336">Be sure to include the port number of 443.</span></span> <span data-ttu-id="8289e-337">暗号化されたOffice 365で動作する場合に注意してください。</span><span class="sxs-lookup"><span data-stu-id="8289e-337">Remember that Office 365 works on an encrypted channel.</span></span> <span data-ttu-id="8289e-338">ポート番号を指定せずに PsPing を実行すると、要求は失敗します。</span><span class="sxs-lookup"><span data-stu-id="8289e-338">If you PsPing without the port number, your request will fail.</span></span> <span data-ttu-id="8289e-339">短いリストに ping を実行したら、平均時間 (ミリ秒) を探します。</span><span class="sxs-lookup"><span data-stu-id="8289e-339">Once you've pinged your short list, look for the Average time in milliseconds (ms).</span></span> <span data-ttu-id="8289e-340">それが記録する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-340">That is what you want to record!</span></span>
  
![往復時間が 2.8 ミリ秒の PSPing をプロキシするクライアントの図を示す図。](../media/96901aea-1093-4f1b-b5a3-6078e9035e6c.png)
  
<span data-ttu-id="8289e-342">プロキシ バイパスに慣れておかしくない場合は、まずプロキシ サーバーの名前を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-342">If you're not familiar with proxy bypass, and prefer to take things step-by-step, you need to first find out the name of your proxy server.</span></span> <span data-ttu-id="8289e-343">[Internet Explorerツール インターネット オプション **接続** LAN の \>  \> **設定** \> **[詳細設定] に** \> **移動します**。</span><span class="sxs-lookup"><span data-stu-id="8289e-343">In Internet Explorer go to **Tools** \> **Internet Options** \> **Connections** \> **LAN settings** \> **Advanced**.</span></span> <span data-ttu-id="8289e-344">[ **詳細設定]** タブには、プロキシ サーバーが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-344">The **Advanced** tab is where you will see your proxy server listed.</span></span> <span data-ttu-id="8289e-345">このタスクを完了して、コマンド プロンプトでプロキシ サーバーに ping を実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-345">Ping that proxy server at a command prompt by completing this task:</span></span> 
  
 <span data-ttu-id="8289e-346">**プロキシ サーバーに ping を実行し、ステージ 1 ~ 2 のラウンド トリップ値をミリ秒単位で取得するには**</span><span class="sxs-lookup"><span data-stu-id="8289e-346">**To ping the proxy server and get a round trip value in milliseconds for stage 1 to 2**</span></span>
  
1. <span data-ttu-id="8289e-347">次の手順を実行して、管理者特権のコマンド プロンプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-347">Run an elevated command prompt by completing these steps:</span></span>
    
1. <span data-ttu-id="8289e-348">**[開始]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="8289e-348">Click **Start**.</span></span>
    
2. <span data-ttu-id="8289e-349">[検索 **の開始] ボックス** に「cmd」と入力し、Ctrl キーを押しながら Shift キーを押しながら Enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="8289e-349">In the **Start Search** box, type cmd, and then press CTRL+SHIFT+ENTER.</span></span>
    
3. <span data-ttu-id="8289e-350">**[ユーザー アカウント制御]** ダイアログ ボックスが表示された場合、このボックスに希望する動作が表示されていることを確認し、**[継続]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="8289e-350">If the **User Account Control** dialog box appears, confirm that the action it displays is what you want, and then click **Continue**.</span></span>
    
2. <span data-ttu-id="8289e-351">「ping」 \<the name of the proxy server your browser uses, or the IP address of the proxy server\> と入力し、Enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="8289e-351">Type ping \<the name of the proxy server your browser uses, or the IP address of the proxy server\> and then press ENTER.</span></span> <span data-ttu-id="8289e-352">PsPing などの他のツールがインストールされている場合は、代わりにそのツールを使用できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-352">If you have PsPing, or some other tool, installed, you can choose to use that tool instead.</span></span> 
    
    <span data-ttu-id="8289e-353">コマンドは、次の例のようになります。</span><span class="sxs-lookup"><span data-stu-id="8289e-353">Your command may look like any of these examples:</span></span> 
    
  - <span data-ttu-id="8289e-354">ping ourproxy.ourdomain.industry.business.com</span><span class="sxs-lookup"><span data-stu-id="8289e-354">ping ourproxy.ourdomain.industry.business.com</span></span>
    
  - <span data-ttu-id="8289e-355">ping 155.55.121.55</span><span class="sxs-lookup"><span data-stu-id="8289e-355">ping 155.55.121.55</span></span>
    
  - <span data-ttu-id="8289e-356">ping ourproxy</span><span class="sxs-lookup"><span data-stu-id="8289e-356">ping ourproxy</span></span>
    
  - <span data-ttu-id="8289e-357">psping ourproxy.ourdomain.industry.business.com:80</span><span class="sxs-lookup"><span data-stu-id="8289e-357">psping ourproxy.ourdomain.industry.business.com:80</span></span>
    
  - <span data-ttu-id="8289e-358">psping 155.55.121.55:80</span><span class="sxs-lookup"><span data-stu-id="8289e-358">psping 155.55.121.55:80</span></span>
    
  - <span data-ttu-id="8289e-359">psping ourproxy:80</span><span class="sxs-lookup"><span data-stu-id="8289e-359">psping ourproxy:80</span></span>
    
3. <span data-ttu-id="8289e-360">トレースがテスト パケットの送信を停止すると、平均をミリ秒単位で示す小さな概要が表示され、その後の値が示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-360">When the trace stops sending test packets, you'll get a small summary that lists an average, in milliseconds, and that's the value you're after.</span></span> <span data-ttu-id="8289e-361">プロンプトのスクリーン ショットを実行し、名前付け規則を使用して保存します。</span><span class="sxs-lookup"><span data-stu-id="8289e-361">Take a screen shot of the prompt and save it using your naming convention.</span></span> <span data-ttu-id="8289e-362">この時点で、図に値を入力する場合にも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8289e-362">At this point it may also help to fill in the diagram with the value.</span></span>
    
<span data-ttu-id="8289e-363">早朝にトレースを実行した可能性があります。クライアントはプロキシ (またはインターネットに出るすべての出力サーバー) にすばやくアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="8289e-363">Maybe you've taken a trace in the early morning, and your client can get to the proxy (or whatever egress server exits to the Internet) quickly.</span></span> <span data-ttu-id="8289e-364">この場合、数値は次のように表示されます。</span><span class="sxs-lookup"><span data-stu-id="8289e-364">In this case, your numbers may look like this:</span></span>
  
![クライアントから 2.8 ミリ秒のプロキシへのラウンド トリップ時間を示すグラフィック。](../media/1bd03544-23fc-47d4-bbae-c1feb466a5d8.PNG)
  
<span data-ttu-id="8289e-366">クライアント コンピューターがプロキシ (または出力) サーバーへのアクセス権を持つ少数の選択済みコンピューターの場合は、そのコンピューターにリモートで接続し、そこから Office 365 URL に PsPing コマンド プロンプトを実行して、テストの次のセクションを実行できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-366">If your client computer is one of the select few with access to the proxy (or egress) server, you can run the next leg of the test by remotely connecting to that computer, running the command prompt to PsPing to an Office 365 URL from there.</span></span> <span data-ttu-id="8289e-367">そのコンピューターにアクセスできない場合は、ネットワーク リソースに問い合わせ、次の脚に関するヘルプを受け取り、その方法で正確な番号を取得できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-367">If you don't have access to that computer, you can contact your network resources for help with the next leg and get exact numbers that way.</span></span> <span data-ttu-id="8289e-368">それができない場合は、問題の Office 365 URL に対して PsPing を実行し、プロキシ サーバーに対して PsPing または Ping の時間と比較します。</span><span class="sxs-lookup"><span data-stu-id="8289e-368">If that's not possible, take a PsPing against the Office 365 URL in question and compare it to the PsPing or Ping time against your proxy server.</span></span> 
  
<span data-ttu-id="8289e-369">たとえば、クライアントから Office 365 URL まで 51.84 ミリ秒で、クライアントからプロキシ (または出力ポイント) まで 2.8 ミリ秒の場合、出力から Office 365 まで 49.04 ミリ秒です。</span><span class="sxs-lookup"><span data-stu-id="8289e-369">For example, if you have 51.84 milliseconds from the client to the Office 365 URL, and you have 2.8 milliseconds from the client to the proxy (or egress point), then you have 49.04 milliseconds from the egress to Office 365.</span></span> <span data-ttu-id="8289e-370">同様に、1 日の高さの間にクライアントからプロキシに 12.25 ミリ秒、クライアントから Office 365 URL まで 62.01 ミリ秒の PsPing がある場合、Office 365 URL へのプロキシ出力の平均値は 49.76 ミリ秒です。</span><span class="sxs-lookup"><span data-stu-id="8289e-370">Likewise, if you have a PsPing of 12.25 milliseconds from the client to the proxy during the height of the day, and 62.01 milliseconds from the client to the Office 365 URL, then your average value for the proxy egress to the Office 365 URL is 49.76 milliseconds.</span></span>
  
![クライアントからクライアントの横のプロキシへの ping をミリ秒単位で表示Office 365値を減算できます。](../media/cd764e77-5154-44ba-a5cd-443a628eb2d9.PNG)
  
<span data-ttu-id="8289e-372">トラブルシューティングの点では、これらのベースラインを維持するだけで興味深いものが見つからかもしれません。</span><span class="sxs-lookup"><span data-stu-id="8289e-372">In terms of troubleshooting, you may find something interesting just from keeping these baselines.</span></span> <span data-ttu-id="8289e-373">たとえば、通常、プロキシまたは出力ポイントから Office 365 URL に約 40 ~ 59 ミリ秒の待機時間があり、クライアントがプロキシまたは出力ポイントの待機時間が約 3 ~ 7 ミリ秒である場合 (その期間中に表示されるネットワーク トラフィックの量に応じて)、最後の 3 つのクライアントがプロキシまたは出力ベースラインに 45 ミリ秒の待機時間を示している場合は、問題が発生します。</span><span class="sxs-lookup"><span data-stu-id="8289e-373">For example, if you find that you generally have about 40 to 59 milliseconds of latency from the proxy or egress point to the Office 365 URL, and have a client to proxy or egress point latency of about 3 to 7 milliseconds (depending on the amount network traffic you're seeing during that time of day) then you will surely know something is problematic if your last three client to proxy or egress baselines show a latency of 45 milliseconds.</span></span>
  
### <a name="advanced-methods"></a><span data-ttu-id="8289e-374">高度なメソッド</span><span class="sxs-lookup"><span data-stu-id="8289e-374">Advanced methods</span></span>

<span data-ttu-id="8289e-375">インターネット要求で何が起こっているのかを知りたい場合は、Office 365トレースに慣れ親しむ必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-375">If you really want to know what is happening with your Internet requests to Office 365, you need to become familiar with network traces.</span></span> <span data-ttu-id="8289e-376">これらのトレース、HTTPWatch、Netmon、Message Analyzer、Wireshark、Fiddler、Developer Dashboard ツール、その他のツールがネットワーク トラフィックをキャプチャしてフィルター処理できる限り、どのツールを使用するかは関係ありません。</span><span class="sxs-lookup"><span data-stu-id="8289e-376">It does not matter which tools you prefer for these traces, HTTPWatch, Netmon, Message Analyzer, Wireshark, Fiddler, Developer Dashboard tool or any other will do as long as that tool can capture and filter network traffic.</span></span> <span data-ttu-id="8289e-377">このセクションでは、これらのツールの 1 つ以上を実行して問題の詳細な画像を取得すると便利です。</span><span class="sxs-lookup"><span data-stu-id="8289e-377">You'll see in this section that it's beneficial to run more than one of these tools to get a more complete picture of the problem.</span></span> <span data-ttu-id="8289e-378">テストを行う場合、これらのツールの一部は独自の権限でプロキシとして機能します。</span><span class="sxs-lookup"><span data-stu-id="8289e-378">When you're testing, some of these tools also act as proxies in their own right.</span></span> <span data-ttu-id="8289e-379">コンパニオン記事で使用される[ツール、パフォーマンス](performance-troubleshooting-plan.md)のトラブルシューティング 計画 Office 365、Netmon [3.4、HTTPWatch、](https://www.microsoft.com/download/details.aspx?id=4865)または[WireShark が含まれます](https://www.wireshark.org/)。 [](https://www.httpwatch.com/download/)</span><span class="sxs-lookup"><span data-stu-id="8289e-379">Tools used in the companion article, [Performance troubleshooting plan for Office 365](performance-troubleshooting-plan.md), include [Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865), [HTTPWatch](https://www.httpwatch.com/download/), or [WireShark](https://www.wireshark.org/).</span></span>
  
<span data-ttu-id="8289e-380">パフォーマンス基準を設定する方法は、この方法の簡単な部分であり、多くの手順は、パフォーマンスの問題をトラブルシューティングする場合と同じです。</span><span class="sxs-lookup"><span data-stu-id="8289e-380">Taking a performance baseline is the simple part of this method, and many of the steps are the same as when you troubleshoot a performance issue.</span></span> <span data-ttu-id="8289e-381">パフォーマンスの基準計画を作成する高度な方法では、ネットワーク トレースを実行して保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-381">The more advanced methods of creating baselines for performance requires you to take and store network traces.</span></span> <span data-ttu-id="8289e-382">この記事のほとんどの例では SharePoint Online を使用していますが、テストおよび記録をサブスクライブする Office 365 サービス全体で一般的なアクションの一覧を開発する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-382">Most of the examples in this article use SharePoint Online, but you should develop a list of common actions across the Office 365 services to which you subscribe to test and record.</span></span> <span data-ttu-id="8289e-383">ベースラインの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="8289e-383">Here is a baseline example:</span></span>
  
- <span data-ttu-id="8289e-384">SPO の基準計画一覧 - \*\* 手順 1: \*\* SPO Web サイトのホーム ページを参照し、ネットワーク トレースを実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-384">Baseline list for SPO - \*\* Step 1: \*\* Browse the home page of the SPO website and do a network trace.</span></span> <span data-ttu-id="8289e-385">トレースを保存します。</span><span class="sxs-lookup"><span data-stu-id="8289e-385">Save the trace.</span></span> 
    
- <span data-ttu-id="8289e-386">SPO の基準計画一覧 -**手順 2:** [検索] を使用して用語 (会社名など) を検索Enterpriseネットワーク トレースを実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-386">Baseline list for SPO - **Step 2:** Search for a term (such as your company name) via Enterprise Search and do a network trace.</span></span> <span data-ttu-id="8289e-387">トレースを保存します。</span><span class="sxs-lookup"><span data-stu-id="8289e-387">Save the trace.</span></span> 
    
- <span data-ttu-id="8289e-388">SPO のベースライン リスト - 手順 **3: アップロード** をオンライン ドキュメント ライブラリにSharePointし、ネットワーク トレースを実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-388">Baseline list for SPO - **Step 3:** Upload a large file to a SharePoint Online document library and do a network trace.</span></span> <span data-ttu-id="8289e-389">トレースを保存します。</span><span class="sxs-lookup"><span data-stu-id="8289e-389">Save the trace.</span></span> 
    
- <span data-ttu-id="8289e-390">SPO の基準計画一覧 -**手順 4:** Web サイトのホーム OneDriveを参照し、ネットワーク トレースを実行します。</span><span class="sxs-lookup"><span data-stu-id="8289e-390">Baseline list for SPO - **Step 4:** Browse the home page of the OneDrive website and do a network trace.</span></span> <span data-ttu-id="8289e-391">トレースを保存します。</span><span class="sxs-lookup"><span data-stu-id="8289e-391">Save the trace.</span></span> 
    
<span data-ttu-id="8289e-392">この一覧には、ユーザーがオンラインに対して実行する最も重要な一般的SharePointがあります。</span><span class="sxs-lookup"><span data-stu-id="8289e-392">This list should include the most important common actions that users take against SharePoint Online.</span></span> <span data-ttu-id="8289e-393">OneDrive for Business に行くトレースの最後の手順では、SharePoint Online ホーム ページ (企業によってカスタマイズされる場合が多い) と OneDrive for Business ホーム ページの負荷の比較をビルドインします。これは、ほとんどカスタマイズできません。</span><span class="sxs-lookup"><span data-stu-id="8289e-393">Notice that the last step, to trace going to OneDrive for Business, builds-in a comparison between the load of the SharePoint Online home page (which is often customized by companies) and OneDrive for Business home page, which is seldom customized.</span></span> <span data-ttu-id="8289e-394">これは、オンライン サイトの読み込みが遅い場合の非常に基本的SharePointです。</span><span class="sxs-lookup"><span data-stu-id="8289e-394">This is a very basic test when it comes to a slow-loading SharePoint Online site.</span></span> <span data-ttu-id="8289e-395">この違いのレコードをテストに組み込む場合があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-395">You can build a record of this difference into your testing.</span></span>
  
<span data-ttu-id="8289e-396">パフォーマンスの問題の最中である場合、多くの手順はベースラインを実行する場合と同じです。</span><span class="sxs-lookup"><span data-stu-id="8289e-396">If you are in the middle of a performance problem, many of the steps are the same as when taking a baseline.</span></span> <span data-ttu-id="8289e-397">ネットワーク トレースは重要になるため、次に重要な  *トレースを実行*  する方法を処理します。</span><span class="sxs-lookup"><span data-stu-id="8289e-397">Network traces become critical, so we'll handle  *how*  to take the important traces next.</span></span> 
  
<span data-ttu-id="8289e-398">パフォーマンスの問題に取り組むには、現在、パフォーマンスの問題が発生した時点でトレースを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8289e-398">To tackle a performance problem,  *right now*  , you need to be taking a trace at the time you are experiencing the performance issue.</span></span> <span data-ttu-id="8289e-399">ログを収集するには、適切なツールを使用できる必要があります。また、可能な最善の情報を収集するために実行するトラブルシューティング アクションの一覧というアクション プランが必要です。</span><span class="sxs-lookup"><span data-stu-id="8289e-399">You need to have the proper tools available to gather logs, and you need an action plan, that is, a list of troubleshooting actions to take to gather the best information that you can.</span></span> <span data-ttu-id="8289e-400">最初に行うのは、テストの日時を記録して、タイミングを反映するフォルダーにファイルを保存する方法です。</span><span class="sxs-lookup"><span data-stu-id="8289e-400">The first thing to do is record the date and time of the test so that the files can be saved in a folder that reflect the timing.</span></span> <span data-ttu-id="8289e-401">次に、問題の手順自体を絞り込みます。</span><span class="sxs-lookup"><span data-stu-id="8289e-401">Next, narrow down to the problem steps themselves.</span></span> <span data-ttu-id="8289e-402">これらは、テストに使用する正確な手順です。</span><span class="sxs-lookup"><span data-stu-id="8289e-402">These are the exact steps you will use for testing.</span></span> <span data-ttu-id="8289e-403">基本を忘れないでください。問題が Outlook でのみ発生する場合は、問題の動作が 1 つの Office 365 サービスでのみ発生することをOffice 365してください。</span><span class="sxs-lookup"><span data-stu-id="8289e-403">Don't forget the basics: if the issue is only with Outlook, make sure to record that the problem behavior happens in only one Office 365 service.</span></span> <span data-ttu-id="8289e-404">この問題の範囲を絞り込むと、解決できる何かに集中できます。</span><span class="sxs-lookup"><span data-stu-id="8289e-404">Narrowing down the scope of this issue will help you to focus on something you can resolve.</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="8289e-405">関連項目</span><span class="sxs-lookup"><span data-stu-id="8289e-405">See also</span></span>

[<span data-ttu-id="8289e-406">Office 365 エンドポイントの管理</span><span class="sxs-lookup"><span data-stu-id="8289e-406">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)