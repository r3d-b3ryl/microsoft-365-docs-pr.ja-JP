---
title: テスト ベースでの機能テスト
description: 既存の自動機能テストを使用してアプリケーションをテストする方法の詳細
search.appverid: MET150
author: mansipatel-usl
ms.author: tinachen
manager: rshastri
audience: Software-Vendor
ms.topic: how-to
ms.date: 07/06/2021
ms.service: test-base
ms.localizationpriority: medium
ms.collection: TestBase-Microsoft 365
ms.custom: ''
ms.reviewer: tinachen
f1.keywords: NOCSH
ms.openlocfilehash: 566ca739c15920d1d9c1260d7b7e771dd984b9d8
ms.sourcegitcommit: eb81b49205cbc66b021326b8e2c00a8336b4a2fa
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/11/2022
ms.locfileid: "67315490"
---
# <a name="functional-testing"></a>機能テスト

ソフトウェア発行元として、Microsoft 365 ポータルのセルフサービス テスト ベースを使用して、任意のテスト フレームワークを使用してカスタム機能テストを実行できるようになりました。 

最初にサービスを開始したとき、標準化されたスクリプトによって駆動される定義済みの一連のテストである、既定のテストが提供されました。 ただし、これは多くの独立系ソフトウェア ベンダー (ISV) の完全なテスト カバレッジを達成できませんでした。 

そのため、お客様のフィードバックに応じて、自動機能テストをアップロードする機能を ISV に提供しています。

この機能を使用するには、次の手順に従います。

1. ファイル (バイナリ、依存関係、スクリプト) を 1 つの.zip パッケージとしてアップロードします。
2. テスト Virtual Machines (VM) をさまざまな実行ポイントで再起動するかどうかを選択します。
3. スクリプトで使用可能なオプションを管理します。
4. 実行中に VM に Windows 更新プログラムを適用するタイミングを選択します。

上記の手順の詳細な説明を次に示します。

**機能テスト パッケージをアップロードする**

開始するには、[アップロード] ページに移動し、Azure の [Test Base for M365 portal] の左側のナビゲーション メニューにある [アプリケーション カタログ] で [新しいアプリケーションのアップロード] を選択します。 そこから：

タブ 1 - 基本情報を入力します。 アプリケーションの名前とバージョンを指定します。 [テストの種類] オプションで、 を選択します ```Functional tests```。 

*既定では、Out-Of-Box (OOB) オプションが必要です。*


![機能テスト タブを選択します。](Media/functional_testing_tab1.png)

タブ 2 - テスト全体 (バイナリ、依存関係、スクリプトなど) を含む zip ファイルをアップロードして、パッケージのコンポーネントをアップロードします。 

詳細については、「aka.ms/usl-package-outline」を参照してください。 (注: Out-of-Box テスト スクリプトと機能テストの内容の両方を同じ zip ファイルに配置する必要があります)。 現在、ファイル サイズは 2 GB に制限されています。

タブ 3 - 既定のテスト タスクと機能テスト タスクを構成します。 ここでは、アプリケーションのインストール、起動、終了、アンインストールを行う PowerShell スクリプトへのパス (Out-of-Box 用) と、機能テストを実行するすべてのカスタム スクリプトへのパスを選択します。 **(注: アプリケーションをアンインストールするスクリプトは省略可能です)。**

現在、機能テスト用に 1 ~ 8 個のスクリプトをアップロードできます。 (さらにスクリプトが必要な場合は、この投稿にコメントしてください)。

![機能テストを使用して最大 8 つのスクリプトをアップロードします。](Media/functional_testing_tab3.png)

(省略可能)インストール後に再起動を構成できます。 一部のアプリケーションでは、インストール後に再起動が必要です。 

スクリプトの実行後に再起動を実行する場合は、[タスク] タブで特定のスクリプトを選択 ```Reboot After Execution``` します。

タブ 4 - Windows 更新プログラムがインストールされるタイミングを選択します。Windows Updateパッチのアプリケーションは、任意のスクリプトの前に実行されます。 実際のアプリケーションの使用シナリオを厳密に模倣するために、アプリケーションのインストール後に Windows 更新プログラムをインストールすることをお勧めします。

![Windows 更新プログラムは、特定のスクリプトの後にインストールできます。](Media/functional_testing_tab4.png)

タブ 5 - パッケージを確認して作成します。 上記の手順を完了したら、選択 ```Create``` してアップロード プロセスを完了します。

パッケージが作成されたら、パッケージの検証状態を確認できます。

初期テストを実行して、アプリケーションのインストール、起動、終了、アンインストールを行います。 これにより、パッケージがエラーフリーのサービスにインストールできることを確認できます。

確認プロセスには最大 24 時間かかる場合があります。 確認が完了すると、メニューに状態が ```Manage packages``` 表示されます。これは、次の 2 つのエントリのいずれかになります。

1. 検証は成功します。パッケージは、選択した OS ビルドのプレリリースの Windows 更新プログラムに対して自動的にテストされます。
or
2. 検証に失敗する: エラーの原因を調査し、問題を解決し、パッケージを再アップロードする必要があります。

また、Azure portalの通知アイコンを使用して、どちらの結果も通知されます。
